(function(a){var b=a.document,d=a.location,g=Array.prototype,k,e;try{e=d.href}catch(c){e=b.createElement("a"),e.href="",e=e.href}k=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?([^?#]*))?/.exec(e.toLowerCase())||[];var i={version:"0.1",timestamp:(new Date).getTime(),debug:-1===k[2].indexOf("alipay.com"),baseDomain:function(){var f=k[2].split(".");return f.slice(-Math.max(f.length-1,2)).join(".")}(),urlParts:k,toString:function(){var f="Light JavaScript Library version "+i.version;i.debug&&(f+=", debug enabled");
return f+"."},toArray:function(f){return g.slice.apply(f)},map:function(f,a,m){if(g.map)return g.map.call(f,a,m);var h=[],c=f.length;if(!c)return h;for(var b=0;b<c;b++)h[b]=a.call(m,f[b],b,f);return h},reduce:function(f,a,b){if(g.reduce)return g.reduce.call(f,a,b);var h=0,c=f.length;if(!c&&void 0==b)throw new TypeError("Reduce of empty array with no initial value");void 0==b&&(b=f[0],h=1);for(;h<c;)b=a.call(void 0,b,f[h],h,f),h++;return b},register:function(f,j,b){f=f.split("/");j=j||i;f[0]||(j=a,
f.shift());for(var h,c=0,g=f.length-1;c<g;c++)if(h=f[c])j=j[h]=j[h]||{};(h=f[c])&&(j=j[h]=void 0===b?{}:b);return j},extend:function(f){var a=i.toArray(arguments);"boolean"!==typeof a[0]&&a.unshift(f=!1);if(2>a.length)return null;var b=2,h=a[1];2===a.length&&(b=1,h=i);for(var c=b,g=a.length;c<g;c++)if((b=a[c])&&"object"===typeof b)for(var e in b){var d=b[e];d!==h&&b.hasOwnProperty(e)&&(i.isArray(d)?h[e]=Array.prototype.concat.call(d):f&&d instanceof Object&&!i.isFunction(d)&&!d.nodeType?h[e]=i.extend(!0,
h[e]||{},b[e]):void 0!==d&&(h[e]=d))}return h},deriveFrom:function(f,a,b){if(2>arguments.length)return f;var c=a&&a.init||function(){f.constructor.apply(this,arguments)};i.extend(!0,c.prototype,f.prototype,a);c.constructor=c;b&&i.extend(!0,c,b);c.__super=f;return c},module:function(f,a){var b=i.register(f,null,a);i.isFunction(a)&&(b.constructor=a);return b},each:function(a,b){if(!a)return a;var c=a.length;if(void 0!==c&&"reverse"in a)for(var h=0;h<c&&!1!==b.call(a[h],h,a[h],a);)h++;else for(h in a)if(!1===
b.call(a[h],h,a[h],a))break;return a},isFunction:function(a){return"function"===i.type(a)},isArray:Array.isArray||function(a){return"array"===i.type(a)},isString:function(a){return"string"===i.type(a)},isObject:function(a){return"object"===i.type(a)},isNull:function(a){return"null"===i.type(a)},isUndefined:function(a){return void 0===a},isWindow:function(a){return a&&"object"===typeof a&&"setInterval"in a},type:function(a){return null===a||void 0===a?""+a:l[Object.prototype.toString.call(a)]||"object"},
has:function(b){if(!b)return!1;var b=b.split("/"),c=i,e,h;b[0]||(c=a,b.shift());e=0;for(h=b.length;e<h;e++)if(c=c[b[e]],void 0===c)return!1;return!0},noop:function(){}},l={};i.each("Boolean,Number,String,Function,Array,Date,RegExp,Object,Null".split(","),function(a,b){l["[object "+b+"]"]=b.toLowerCase()});a.light=i})(window);
light.extend({log:function(){return!light.debug||!window.console||!console.log?function(){if(light.debug)try{window.console&&console.log&&console.log.apply(console,arguments)}catch(a){}}:Function.prototype.bind?function(){light.debug&&Function.prototype.bind.call(console.log,console).apply(console,arguments)}:console.log.apply?function(){light.debug&&console.log.apply(console,arguments)}:light.debug?console.log:light.noop}(),inspect:function(a){var b=function(a){if(!light.isObject(a))return light.isString(a)?
'"'+a+'"':a.toString();var d=[],e;for(e in a)light.isUndefined(a[e])||(light.isNull(a[e])?d.push('"'+e+'":null'):light.isObject(a[e])?d.push('"'+e+'":{'+b(a[e])+"}"):d.push('"'+e+'":'+b(a[e])));return d.join()};if(window.JSON&&JSON.stringify)return JSON.stringify(a);if("object"===typeof a){var d="",d=b(a);return"{"+d+"}"}return""+a},track:function(){var a=[],b=function(d){window.Tracker?Tracker.click(d):(a.push(d),window.setTimeout(function(){b(a.shift())},100))};return function(a,g){if(a){if(g)var k=
light.client.info,e=k.browser.version,e=e?e[0]:"na",a=a+("-"+(k.browser.name||"na")+"-"+(k.engine.name||"na")+"-"+e);b(a)}}}(),trim:function(a){return!a?"":String.prototype.trim?String.prototype.trim.apply(a):a.replace(/^\s+|\s+$/g,"")},substitute:function(a,b,d){if(!a)return"";if(!b)return a;if("string"!==typeof a)throw"invalid template";return a.replace(RegExp("{\\w+}","gmi"),function(a){a=a.substr(1,a.length-2);return a in b?b[a].toString():d?"{"+a+"}":""})},encode:encodeURIComponent||escape,decode:decodeURIComponent||
unescape,param:function(a,b,d){var b=b||"=",g=[];light.each(a,function(d,e){d&&a.hasOwnProperty(d)&&g.push(light.encode(d)+b+light.encode(e))});return g.join(d||"&")},unparam:function(a,b,d){var g={};if(!a)return g;b=b||"=";light.each(a.split(d||"&"),function(a,e){var c=e.split(b,2);c[0]&&2===c.length&&(g[light.decode(c[0])]=light.decode(c[1]))});return g},trimTag:function(a){if(!a||!document.createElement)return"";var b=document.createElement("DIV");b.innerHTML=a;return b.textContent||b.innerText||
""},escapeHTML:function(a){if(!a)return"";a=a.replace(/>/g,"&gt;");a=a.replace(/</g,"&lt;");a=a.replace(/&/g,"&amp;");a=a.replace(/"/g,"&quot;");return a=a.replace(/'/g,"&#039;")},unescapeHTML:function(a){if(!a)return"";a=a.replace(/&gt;/g,">");a=a.replace(/&lt;/g,"<");a=a.replace(/&amp;/g,"&");a=a.replace(/&quot;/g,'"');return a=a.replace(/&#039;/g,"'")},toJSON:function(a){if("string"!==typeof a||!a)return null;a=light.trim(a);return window.JSON&&JSON.parse?JSON.parse(a):(new Function("return "+
a))()}});(function(){var a=function(){this.stack=[];var a=this,d=[].slice.call(arguments,0);d&&light.each(d,function(d){a.add(d)})};a.prototype={add:function(a){this.stack.push(a)},clear:function(){this.stack=[]},invoke:function(){var a=this,d=[].slice.call(arguments,0);fn=this.stack.shift();this.next||(this.next=function(){a.stack.length&&a.invoke.apply(a,d)});fn.apply(null,[this.next].concat(d))}};light.queue=a})();
(function(a,b){var d=a.document,g=a.navigator,k=g.userAgent?g.userAgent.toLowerCase():"",e=a.external,g={device:{pc:"windows",ipad:"ipad",ipod:"ipod",iphone:"iphone",mac:"macintosh",android:"android",nokia:/nokia([^\/ ]+)/},os:{windows:/windows nt (\d)\.(\d)/,macos:/mac os x (\d+)[\._](\d+)(?:[\._](\d+))?/,linux:"linux",ios:/iphone os (\d)[\._](\d)/,android:/android (\d)\.(\d)/,chromeos:/cros i686 (\d+)\.(\d+)(?:\.(\d+))?/,windowsce:0<k.indexOf("windows ce ")?/windows ce (\d)\.(\d)/:"windows ce",
symbian:/symbianos\/(\d+)\.(\d+)/,blackberry:"blackberry"},engine:{trident:/msie (\d+)\.(\d)/,webkit:/applewebkit\/(\d+)\.(\d+)/,gecko:/gecko\/(\d+)/,presto:/presto\/(\d+).(\d+)/},browser:{360:function(){if(!c.os.windows)return!1;if(e)try{return e.twGetVersion(e.twGetSecurityID(a)).split(".")}catch(b){try{return-1!==e.twGetRunPath.toLowerCase().indexOf("360se")||!!e.twGetSecurityID(a)}catch(d){}}return/360(?:se|chrome)/},mx:function(){if(!c.os.windows)return!1;if(e)try{return(e.mxVersion||e.max_version).split(".")}catch(a){}return-1!==
k.indexOf("maxthon ")?/maxthon (\d)\.(\d)/:"maxthon"},sg:/ se (\d)\./,tw:function(){if(!c.os.windows)return!1;if(e)try{return-1!==e.twGetRunPath.toLowerCase().indexOf("theworld")}catch(a){}return"theworld"},qq:function(){return 0<k.indexOf("qqbrowser/")?/qqbrowser\/(\d+)\.(\d+)\.(\d+)(?:\.(\d+))?/:/tencenttraveler (\d)\.(\d)/},ie:0<k.indexOf("trident/")?/trident\/(\d+)\.(\d+)/:/msie (\d+)\.(\d+)/,chrome:/chrome\/(\d+)\.(\d+)\.(\d+)(?:\.([ab\d]+))?/,safari:/version\/(\d+)\.(\d+)(?:\.([ab\d]+))? safari\//,
firefox:/firefox\/(\d+)\.([ab\d]+)/,opera:/opera.+version\/(\d+)\.([ab\d]+)/},feature:{"64bitBrowser":"win64; x64;","64bitOS":/win64|wow64/,security:/ (i|u|s|sv1)[;\)]/,simulator:function(){return c.os.ios&&960<screen.width}}},c={};b.each(g,function(a,e){c["has"+a.charAt(0).toUpperCase()+a.slice(1)]=function(b,e){var f;a:if(!c[a]||!(f=c[a][b]))f=!1;else{if(e){var d=e;"string"===typeof d?d=d.split("."):"number"===typeof d&&(d=[d]);for(var g,k,l=0,n=Math.max(d.length,f.length);l<n;l++)if(g=parseInt(d[l],
10)||0,k=parseInt(f[l],10)||0,g!==k){f=g<k;break a}}f=!0}return f};var f=c[a]={};b.each(e,function(a,e){var d=[0],g=b.isFunction(e)?e.apply(c):e;if(g)if(!0===g)d=[-1];else if("string"===typeof g)d=[-1!==k.indexOf(g)?-1:0];else{var i=g;g.exec&&(i=g.exec(k)||[],i.length&&i.shift());for(g=0;g<i.length;g++)d[g]=parseInt(i[g],10)||0}if(i=!!d[0])f[a]=f.version=d,f.name=a;return!i})});!c.engine.name&&a.ActiveXObject?(d.documentMode?c.engine.trident=c.engine.version=[d.documentMode,0]:c.engine.trident||(c.engine.trident=
c.engine.version=[-1]),c.engine.name="trident"):!c.os.windows&&c.hasEngine("trident",6)&&(c.os.windows=c.os.version=[-1],c.os.name="windows");c.browser.ie&&0<k.indexOf("trident/")&&(c.browser.ie[0]=c.browser.version[0]+=4);b.module("client/info",c)})(window,light);
(function(a,b){var d=a.document,g=a.navigator,k=!1,e=function(){k||(b.write('<input type="hidden" id="__ud" style="behavior:url("#default#userData")"/>'),k=!0);return b.get("__ud")},c={cookie:null,defaultStorage:a.localStorage,set:function(a,f){if(c.cookie&&g.cookieEnabled){var j=a+"="+encodeURIComponent(f);if(c.cookie.days)var k=new Date((new Date).getTime()+864E5*c.cookie.days),j=j+("; expires="+k.toGMTString());c.cookie.domain&&(j+="; domain="+c.cookie.domain);j+="; path="+(c.cookie.path||b.urlParts[4]||
"/");d.cookie=j}if(i)c.defaultStorage.setItem(a,f);else if(j=e()){j.setAttribute(a,f);try{j.save("__ud")}catch(h){}}},get:function(a){if(c.cookie){if(g.cookieEnabled){var f=d.cookie,j=f.indexOf(a+"=");return-1!=j?(j+=a.length+1,a=f.indexOf(";",j),-1==a&&(a=f.length),b.decode(f.substring(j,a)||"")):null}return""}if(i)f=c.defaultStorage.getItem(a);else if(j=e()){try{j.load("__ud")}catch(k){}f=j.getAttribute(a)}return f||""}},i=!!c.defaultStorage;b.module("client/storage",c)})(window,light);light.extend({get:function(a){return!a?null:"string"===typeof a?!light.node||/^[\w-]+$/.test(a)?document.getElementById(a):light.node(a)[0]:a.getConfig?a[0]||null:a},write:function(a){if("complete"===document.readyState){var f=document.createElement("span");f.innerHTML=a;document.body.appendChild(f)}else document.write(a)},isHTMLElement:function(a){return a&&(1===a.nodeType||9===a.nodeType)},hasClass:function(a,f){return a?RegExp("(\\s|^)"+f+"(\\s|$)").test(a.className):!1},setStyle:function(a,f){if("string"===
light.type(f)&&2==arguments.length){var e={};e[arguments[0]]=arguments[1];f=e}for(var c in f)e=f[c],"number"===typeof e&&(e+="px"),"opacity"==c?1>e&&0<e&&(isIE&&9>light.client.info.browser.version[0]?a.style.filter="alpha(opacity="+100*e+")":a.style.opacity=1.0E-5>e?0:e):a.style["float"==c||"cssFloat"==c?void 0===typeof a.style.styleFloat?"cssFloat":"styleFloat":c]=e;return this},getStyle:function(a,f){var e=a.currentStyle?a.currentStyle[f]:document.defaultView.getComputedStyle(a,null)[f];"string"===
typeof e&&"px"===e.slice(-2)&&(e=parseInt(e,10));return e},exists:function(a){a=light.get(a);if(!a)return!1;for(;a=a.parentNode;)if(a==document)return!0;return!1}});
(function(a,f){var e=function(a,c){if(!a._fixed){a._fixed=!0;a.target||(a.target=a.srcElement||f);a.data=c||{};3===a.target.nodeType&&(a.target=a.target.parentNode);!a.relatedTarget&&a.fromElement&&(a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement);if(void 0===a.pageX&&void 0!==a.clientX){var b=a.target.ownerDocument||f,d=b.documentElement,b=b.body;a.pageX=a.clientX+(d&&d.scrollLeft||b&&b.scrollLeft||0)-(d&&d.clientLeft||b&&b.clientLeft||0);a.pageY=a.clientY+(d&&d.scrollTop||b&&
b.scrollTop||0)-(d&&d.clientTop||b&&b.clientTop||0)}if(!a.which&&(a.charCode||a.keyCode))a.which=a.charCode||a.keyCode;!a.metaKey&&a.ctrlKey&&(a.metaKey=a.ctrlKey);!a.which&&void 0!==a.button&&(a.which=a.button&1?1:a.button&2?3:a.button&4?2:0);a.cancel=function(){if(a.preventDefault)a.preventDefault();else{a.returnValue=false;a.defaultPrevented=true}};a.stop=function(){a.stopPropagation?a.stopPropagation():a.cancelBubble=true}}},c=/\s+/,b={},d={data:null,capturing:!1,timeout:0};a.extend({on:function(l,
g,f,i){var h="string"===typeof l?a.get(l):l;if(h&&g&&"string"===typeof g)if(c.test(g))a.each(g.split(c),function(b,c){a.on(l,c,f,i)});else{var n=a.extend({},d,i),k=function(b){e(b,n.extraData);var c;n.timeout?(a.log("timeout event: %d",n.timeout),setTimeout(function(){f.call(h,b)},n.timeout)):c=f.call(h,b);return!1!==c&&!b.defaultPrevented};h.addEventListener?h.addEventListener(g,k,n.capturing?!0:!1):h.attachEvent&&(n.capturing&&("focus"===g?g="focusin":"blur"===g&&(g="focusout")),h.attachEvent("on"+
g,k));(b[g]=b[g]||[]).push([h,f,k])}},listen:function(b,d,e){var i=f,h=b,b=b.split(c,2);2===b.length&&(i=a.get(b[0].substr(1)),h=b[1]);var b=a.client.info.engine,n=function(b){for(var c=b.target;c;){if(h.charAt(0)==="."){if(a.hasClass(c,h.substr(1)))break}else if(c.tagName===h.toUpperCase())break;else if(c===i){c=null;break}c=c.parentNode}c&&e.call(c,b)};if("change"===d&&b.trident&&9>b.trident[0])b=a.toArray(i.getElementsByTagName("input")),b.concat(i.getElementsByTagName("select")),b.concat(i.getElementsByTagName("textarea")),
a.log("%d fields captured",b.length),a.each(b,function(){a.on(this,d,n)});else a.on(i,d,n,{capturing:!0})},removeEvent:function(c,d,e){var f=a.get(c);if(f){var h=e,n=-1;b[d]&&a.each(b[d],function(a,b){if(b[0]===f&&b[1]===e)return h=b[2],n=a,!1});0<=n&&b[d].splice(n,1);f.removeEventListener?f.removeEventListener(d,h,!1):f.detachEvent("on"+d,h)}},fire:function(b,c,d){var e=a.get(b);if(!e||!c)return!1;if(f.createEvent)return b=f.createEvent("HTMLEvents"),d&&a.extend(b,d),b.initEvent(c,!0,!0),!e.dispatchEvent(b);
b=f.createEventObject();d&&a.extend(b,d);return e.fireEvent("on"+c,c)},cancelEvent:function(a){a.cancel&&a.cancel()}})})(window.light,window.document);
(function(a){var f={method:"GET",success:a.noop,failure:a.noop,finish:a.noop,timeoutHandler:a.noop,format:"json",force:!0,async:!0,timeout:-1,contentType:"application/x-www-form-urlencoded; charset=UTF-8"},e={text:{parser:a.trim},json:{parser:a.toJSON,handler:function(a){return a&&"ok"===a.stat},redirector:function(a){a&&a.redirectUrl&&(window[a.target||"self"].location.href=a.redirectUrl)}}},c=0,b=function(b,l,g){if("JSONP"==g.method||"jsonp"==g.format){l=l||{};c++;a.request._callbacks["callback"+
c]=g.success||a.noop;l[g.hook||"_callback"]="light.request._callbacks.callback"+c;g=document.createElement("script");g.setAttribute("type","text/javascript");g.setAttribute("charset","utf-8");var j=b.indexOf("?");-1<j&&(a.extend(l,a.unparam(b.slice(j+1))),b=b.slice(0,j));g.setAttribute("src",b+"?"+a.param(l));document.getElementsByTagName("head")[0].appendChild(g);return null}var l="string"===typeof l?l:a.param(l),i=a.extend({},f,g);i.method=i.method?i.method.toUpperCase():f.method;var g="GET"===
i.method,h=null;i.fail&&(i.failure=i.fail);g&&i.force&&(l+=(l?"&":"")+"t="+(new Date).getTime().toString(36));window.XMLHttpRequest?h=new XMLHttpRequest:window.ActiveXObject&&(h=new ActiveXObject("Microsoft.XMLHTTP"));g&&l&&(b+=(0<b.indexOf("?")?"&":"?")+l);h.open(i.method,b,i.async);g||h.setRequestHeader("Content-type",i.contentType);h.onreadystatechange=function(){if(h.readyState==4){a.log("Get response with code %d.",h.status);var b={},c=true,d=i.failure;if(h.status==200){b=e[i.format].parser(h.responseText);
(c=e[i.format].redirector)&&c(b);c=e[i.format].handler;if(c=!c||c(b)!==false)d=i.success}d.call(h,b);i.finish.call(h,b,c)}};a.log("Send ajax %s request to %s.",i.format,b);h.send(g?null:l);return h};b.config=e;a.request=b;a.request._callbacks={}})(window.light);
(function(a){var f=null,e=0,c=function(){var b=a.client.info,c=document.documentMode;return b.hasEngine("trident",6)||b.hasEngine("trident",7)||c&&7>=c?2048-(e+10).toString().length:3500-(e+10).toString().length},b=function(b,c,d){var c=c||"=",e=[];a.each(b,function(d,f){d&&b.hasOwnProperty(d)&&("dataContent"==d?e.push(a.encode(d)+c+f):e.push(a.encode(d)+c+a.encode(f)))});return e.join(d||"&")},d=function(c,d,e,f){a.packetRequest._packetCallbacks["callback"+d]=f||a.noop;c=c+"?"+b(e);d=document.createElement("script");
d.setAttribute("type","text/javascript");d.setAttribute("charset","utf-8");d.setAttribute("src",c);document.getElementsByTagName("head")[0].appendChild(d);a.log("Send ajax request to %s.",c)};a.packetRequest=function(b,g,j,i){function h(c,e){var g=c.info;"fail"==g.packet?(g=n[e],1<g.packet.sendCount&&(g.packet.sendCount--,d(b,g.count,g.packet,function(a){h(a,e)}),a.log("%d: packet request sent again.",e))):"success"==g.packet?(g=n[++e],d(b,g.count,g.packet,function(a){h(a,e)}),a.log("%d: packet request sent.",
e)):"all"==g.packet&&(f&&clearTimeout(f),i.success(c),a.log("all packet request sent successfully."))}var n=[],k={packet:{sendCount:3,dataId:(new Date).getTime(),dataSize:0,dataIndex:0,dataContent:"",_callback:"light.packetRequest._packetCallbacks.callback"}};k.packet=a.extend(k.packet,g);for(var j=a.encode(a.inspect(j)),t=c()-(b+"?"+a.param(k.packet)).length,I=k.packet.dataSize=Math.ceil(j.length/t),E=0;E<I;E++){var g=a.extend(!0,{},k),m=g.packet;m.dataIndex=E;m.dataContent=j.slice(0,t);m._callback=
"light.packetRequest._packetCallbacks.callback"+e;g.count=e++;j=j.slice(t);n.push(g)}d(b,n[0].count,n[0].packet,function(a){h(a,0)});a.log("0: packet request sent.");f=setTimeout(function(){i.abort("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u65b0\u64cd\u4f5c")},1E4)};a.packetRequest._packetCallbacks={}})(window.light);
(function(a,f){var e="complete"===document.readyState||"loaded"===document.readyState,c=!!document.addEventListener,b=a.lightReady=a.lightReady||[],d=function(){for(e=!0;b.length;)b.shift().call(a,f,f.node,f.page)};f.on(document,c?"DOMContentLoaded":"readystatechange",c?d:function(){("loaded"==document.readyState||"complete"==document.readyState)&&d()});!c&&a==a.top&&a.setTimeout(function(){try{e||document.documentElement.doScroll("left"),setTimeout(d,0)}catch(a){setTimeout(arguments.callee,20)}},
20);var l=function(){/in/.test(document.readyState)?setTimeout(l,9):d()};f.ready=function(c){e?c.call(a,f,f.node,f.page):(b.push(c),l())}})(window,light);
(function(a){var f=a.client.info.engine.trident,e=a.client.info.engine.presto,c=function(a){return/^(?:body|html)$/i.test(a.tagName)};a.extend({getViewportHeight:function(b){b=a.get(b)||window;if(b==window||b==document||c(b)){var b=self.innerHeight,d=document.compatMode;if((d||f)&&!e)b="CSS1Compat"==d?document.documentElement.clientHeight:document.body.clientHeight;return b}return b.offsetHeight},getViewportWidth:function(b){b=a.get(b)||window;if(b==window||b==document||c(b)){var b=self.innerWidth,
d=document.compatMode;if(d||f)b="CSS1Compat"==d?Math.max(document.documentElement.clientWidth,document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth):document.body.clientWidth;return b}return b.offsetWidth},getScroll:function(b){b=a.get(b)||window;return b==window||b==document||c(b)?{left:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),top:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}:
{left:b.scrollLeft,top:b.scrollTop}},viewport:function(){return{width:this.getViewportWidth(),height:this.getViewportHeight()}},scroll:function(a){a=this.getScroll(a);return{x:a.left,y:a.top}},xy:function(a){a=this.getOffsets(a);return{x:a.left,y:a.top}},size:function(a){return{width:this.getViewportWidth(a),height:this.getViewportHeight(a)}},getOffsets:function(b){b=a.get(b);if("getBoundingClientRect"in document.documentElement){try{var c=b.getBoundingClientRect()}catch(e){}var f=b&&b.ownerDocument||
document,b=f.body,j=f.documentElement,f=(window.pageYOffset||j.scrollTop||b.scrollTop)-(j.clientTop||b.clientTop||0),b=(window.pageXOffset||j.scrollLeft||b.scrollLeft)-(j.clientLeft||b.clientLeft||0);c&&(f+=c.top,b+=c.left);return{top:f,left:b}}c=function(a){var c;c=window.getComputedStyle?getComputedStyle(a,null).position:a.currentStyle?a.currentStyle.position:a.style.position;return"absolute"==c||"fixed"==c?a.offsetParent:a.parentNode};if("undefined"!=typeof b.offsetParent){for(var f=b,i=j=0;b;b=
b.offsetParent)j+=b.offsetLeft,i+=b.offsetTop;if(!f.parentNode||!f.style||"undefined"==typeof f.scrollTop)return{left:j,top:i};for(b=c(f);b&&b!=document.body&&b!=document.documentElement;)j-=b.scrollLeft,i-=b.scrollTop,b=c(b);return{left:j,top:i}}return{left:b.x,top:b.y}},region:function(c){var d=a.getOffsets(c);return{left:d.left,top:d.top,width:a.getViewportWidth(c),height:a.getViewportHeight(c)}}})})(window.light);
(function(a){var f={arale:{exists:function(){return!!window.arale},dialog:function(){var c={page:"IframeXbox",string:"StringXbox",dom:"DomXbox"};return function(b){var d=c[b.type];if(!d)throw"Invalid dialog type: "+b.type;var l,f=a.extend({},b);f.isOld=!0;b.trigger&&(f.el=b.trigger);if("string"==b.type)if(e.dialog.template)b.content=a.substitute(e.dialog.template,b);else if("string"!=typeof b.content){var j=document.createElement("div"),i=b.content.cloneNode(!0);j.appendChild(i);b.content=j.innerHTML}f.value=
function(){return b.content};Loader.use(["aralex.xbox"],function(){l=new aralex.xbox[d](f);b.trigger||l.show()});return this.page.dialog=l}}(),closeDialog:function(a){(a=a||this.page.dialog)&&a.hide()},tooltip:function(c){var b,d=c.trigger,e={targets:d};a.isHTMLElement(d)&&(e.targets=[d]);c.content&&(e.getValue=function(){return c.content});Loader.use(["aralex.apop"],function(){b=new aralex.apop.Tip(e);c.trigger||b.show()})}},alipay:{exists:function(){return!!window.AP},dialog:function(){var c={autoShow:!0,
type:"dom",modal:!0};return function(b){var d,f=a.extend({},c,b);b.trigger&&(f.el=b.trigger);if("page"==f.type)f.type="iframe";else if("dom"!=f.type&&"string"==f.type){if(e.dialog.template)b.content=a.substitute(e.dialog.template,b);else if("string"!=typeof b.content){d=document.createElement("div");var g=b.content.cloneNode(!0);d.appendChild(g);b.content=d.innerHTML}f.title=""}f.value=function(){return b.content};d=this.page.dialog=new AP.widget.xBox(f);f.autoShow&&d.show();return d}}(),closeDialog:function(){a.page.dialog=
null;AP.widget.xBox.hide()},tooltip:function(c){var b=c.trigger,d={width:"auto"};a.isHTMLElement(b)&&(b=[el]);c.content&&(d.message=c.content);return new AP.widget.popNotice(b,d)}},arale2:{exists:function(){return!!window.seajs},dialog:function(){return function(c){seajs.use("alipay/xbox/1.0.2/xbox",function(){});var b,d=a.extend({isOld:!0},c);"page"==d.type&&(d.type="iframe");if("string"==c.type)if(e.dialog.template)c.content=a.substitute(e.dialog.template,c);else if("string"!=typeof c.content){var f=
document.createElement("div"),g=c.content.cloneNode(!0);f.appendChild(g);c.content=f.innerHTML}var j=this;seajs.use("alipay/xbox/1.0.2/xbox",function(a){b=j.page.dialog=new a(d);c.autoShow&&b.show();return b})}}(),closeDialog:function(a){(a=a||this.page.dialog)&&a.hide()},tooltip:function(){},closed:function(){var a=instance||this.page.dialog;a&&a.hide()}},"default":{exists:function(){return!0},dialog:function(a){a&&a.title&&alert(a.title)},closeDialog:function(){},tooltip:function(a){a&&a.content&&
alert(a.content)}}},e=a.module("page/ui",{detect:function(){var c;a.each(f,function(a,d){if(d.exists())return c=d,!1});return c}});a.each(["dialog","tooltip"],function(c,b){e[b]=function(c){var f=e.detect();f&&f[b].call(a,c)}});e.closeDialog=function(){var c=e.detect();c&&c.closeDialog.call(a)}})(window.light);
(function(a,f){var e=function(c,b){if(!this.getConfig)return new e(c,b);if(!arguments.length||!c)return this;if(c.getConfig)return c;if(a.isHTMLElement(c))return c._light_node||this.add(c);if("string"!==typeof c&&c.length)return this.add(c);if("string"===typeof c){var d=e.getSizzle(),f=a.get(b)||document;if(d)d=d(c,f);else if(document.querySelectorAll)d=f.querySelectorAll(c);else throw"method not supported";d.length&&this.add(d)}return this};e.getSizzle=function(){var c;return function(){if(c)return c;
a.Sizzle?c=a.Sizzle:window.YAHOO?c=YAHOO.util.Dom.query:window.arale&&arale.dom&&arale.dom.sizzle&&(c=arale.dom.sizzle);return c||window.Sizzle}}();e.prototype={length:0,each:function(a){for(var b=0;b<this.length&&!1!==a.call(this[b],b,this[b]);)b++;return this},map:function(c){return a.map(this,c)},reduce:function(c,b){return a.reduce(this,c,b)},toArray:function(){return a.toArray(this)},add:function(c){var b;if("string"===typeof c)b=a.get(c);else if("object"===typeof c)if(!c.nodeType&&c.length&&
c[0])for(var d=0,f=c.length;d<f;d++){var g=c[d];if(a.isHTMLElement(g)){this[this.length]=g;this.length++;var j=new e;j[0]=g;j.length=1;g._light_node=j}}else b=c;a.isHTMLElement(b)&&(this[this.length]=b,this.length++);return this},clear:function(){for(var a=0;a<this.length;delete this[a++]);this.length=0;return this},clone:function(){for(var a=new e,b=a.length=this.length;b--;)a[b]=this[b];return a},on:function(c,b,d){return this.each(function(){a.on(this,c,b,d)})},show:function(){return this.each(function(){this.style.display=
""})},hide:function(){return this.each(function(){this.style.display="none"})},toggle:function(c){var b,d=!1;c!==f&&(a.isFunction(c)?d=!0:b=c?"":"none");return this.each(function(){var a=b;a===f&&(a=d?c.apply(this)?"":"none":"none"===this.style.display?"":"none");this.style.display=a})},item:function(a){var b=new e;this[a]&&b.add(this[a]);return b},slice:function(){return new e(Array.prototype.slice.apply(this,arguments))}};a.each(["mouseover","mouseout","change"],function(a,b){e.prototype[b]=function(a){return this.on(b,
a)}});a.each(["click","submit","focus","blur"],function(a,b){e.prototype[b]=function(a,c){return a===f?this.each(function(){this[b]()}):this.on(b,a,c)}});a.node=e})(window.light);
(function(a,f){f.build=function(){var b={td:["<table><tbody><tr>","</tr></tbody></table>","table>tbody>tr"],tr:["<table><tbody>","</tbody></table>","table>tbody"],option:["<select>","</select>","select"],optgroup:["<select>","</select>","select"]},c=/<(.+?)\b/;return function(d,e){var h=a.createElement("div"),n;if(c.test(d)){var k=d,t=k.match(c)[1].toLowerCase();(t=b[t])&&(k=t[0]+k+t[1]);h.innerHTML=k;return f((t?t[2]:"")+">*",h)}h=light.trim(d);n=a.createElement(h);light.each(e,function(a,b){"className"===
a?n[a]=b:("boolean"===typeof b&&(b=b?a:""),n.setAttribute(a,b))});return new f(n)}}();var e=function(a,b){var c=f.getSizzle();if(!c||!c.filter)throw"method not supported";return c.filter(a,[b]).length},c=function(a,b,c){var d=this[0],h=new f;if(!d)return h;for(;d=d[b];)if(1===d.nodeType&&(!a||e(a,d)))if(h.add(d),c)break;return h},b=function(a,b,c){var d=b;if(d instanceof f)d=d[0];else if(!light.isHTMLElement(d))return!1;return this.each(function(){c?d[a](this):this[a](d)})},d=function(a,b){var c=
[];if("string"===typeof a){var d=f.getSizzle();if(!d||!d.filter)throw"method not supported";c=d.filter(a,this,!1,b)}else this.each(function(b){a.call(this,b,this)&&c.push(this)});return this.clear().add(c)};light.extend(f.prototype,{find:function(a){return new f(a,this)},filter:function(a){return d.call(this,a,!1)},remove:function(a){return d.call(this,a,!0)},del:function(){return this.each(function(){this.parentNode.removeChild(this)}).clear()},append:function(a){return b.call(this,"appendChild",
a)},appendTo:function(a){return b.call(this,"appendChild",a,!0)},after:function(a){var b=this[0],a=light.get(a);if(!b||!a)return this;var c=f(a).next();c.length?a.parentNode.insertBefore(b,c[0]):a.parentNode.appendChild(b);return this},text:function(b){var c="innerText"in a.createElement("div")?"innerText":"textContent";if(void 0===b){var d=this[0];return!d?"":light.trim(d[c])}return this.each(function(){this[c]=b})},html:function(a){if(void 0===a){var b=this[0];return!b?"":light.trim(b.innerHTML)}return this.each(function(){this.innerHTML=
a})},outerHTML:function(a){return void 0===a?(a=this[0],!a?"":light.trim(a.outerHTML||(new XMLSerializer).serializeToString(a))):this.each(function(){})},next:function(a){return c.call(this,a,"nextSibling",!0)},nextAll:function(a){return c.call(this,a,"nextSibling",!1)},prev:function(a){return c.call(this,a,"previousSibling",!0)},prevAll:function(a){return c.call(this,a,"previousSibling",!1)},siblings:function(a){return c.call(this,a,"previousSibling",!1).add(c.call(this,a,"nextSibling",!1))},parent:function(a){return c.call(this,
a,"parentNode",!0)},children:function(a){var b=this[0],c=new f;if(!b||!b.firstChild)return c;b=b.firstChild;do 1===b.nodeType&&(!a||e(a,b))&&c.add(b);while(b=b.nextSibling);return c},style:function(a){if(void 0===a)return this;if("string"===typeof a){var b=this[0];return!b?"":light.getStyle(b,a)}return this.each(function(){light.setStyle(this,a)})}})})(window.document,light.node);
light.extend(light.node.prototype,{attr:function(a,f){if(void 0===f){var e=this[0];return!e?"":"undefined"!==typeof e.getAttribute&&"boolean"!==typeof e[a]?e.getAttribute(a):e[a]}return this.each(function(){"undefined"!==typeof this.setAttribute?!1===f?(this.setAttribute(a,""),this.removeAttribute(a),a in this&&(this[a]=!1)):(this.setAttribute(a,!0===f?a:f),"src"!==a&&a in this&&(this[a]=f)):a in this&&(this[a]=f)})},getConfig:function(a,f){var e=this.attr(a||"data-config"),c={};e&&(c=light.unparam(e),
f&&light.each(c,f));return c},updateConfig:function(a,f){var e,c;2>arguments.length&&light.isObject(a)?(e="data-config",c=a):(e=a||"data-config",c=f);return this.each(function(){var a=light.node(this);a.attr(e,light.param(light.extend(a.getConfig(e),c)))})},hasClass:function(a){var f=this[0];return!f||!f.className?!1:RegExp("(?:^|\\s)"+a+"(?:\\s|$)").test(f.className)},addClass:function(a){if(!a)return this;var f=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");return this.each(function(){var e=this.className;e?
f.test(e)||(this.className+=" "+a):this.className=a})},removeClass:function(a){if(!a)return this;var f=RegExp("(?:^|\\s)"+a+"(\\s|$)");return this.each(function(){var a=this.className;a&&f.test(a)&&(this.className=a.replace(f,"$1"))})},toggleClass:function(a,f){return void 0===f?this.each(function(){var f=light.node(this);f[f.hasClass(a)?"removeClass":"addClass"](a)}):this[f?"addClass":"removeClass"](a)}});
light.extend(light.node.prototype,{val:function(a){if(void 0===a){var f=this[0];if(!f)return"";(f=f.value||"")&&(f=light.unescapeHTML(light.trim(f)));return f}return this.each(function(){if("SELECT"===this.tagName){var f=this;light.node(this).find("option").each(function(c,b){if(b.value!==a)return!0;f.selectedIndex=c;return!1})}else this.value=a})},field:function(a,f){if(void 0===f){if(!a)return"";var e=this[0];if(!e)return"";var c;e.elements?c=e.elements[a]:e.item&&(c=e.item(a));return!c||!c.value?
"":light.unescapeHTML(light.trim(c.value))}return this.each(function(){var b;this.elements?b=this.elements[a]:this.item&&(b=this.item(a));b||(b=light.node("[name="+a+"]",this)[0]);b&&(b.value=f)})},serialize:function(){var a=this[0];if(!a)return"";var f=[];light.node(":input[name]",a).each(function(a,c){var b=c.value;c.disabled||("radio"==c.type||"checkbox"==c.type)&&!c.checked||f.push(light.encode(c.name)+"="+light.encode(b))});return f.join("&")}});
(function(a){a.prototype.captcha=function(a){var e="string"===typeof a?light.get(a):a;if(!e)return this;e.length&&(e=e[0]);var c=this[0];if(!c)return this;light.on(a,"click",function(a){a.cancel();var a=c.src.split("?"),d=light.unparam(a[1]||"");d.t=(new Date).getTime();c.src=a[0]+"?"+light.param(d)});return this}})(light.node);
(function(a,f,e){var c={types:{email:[/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,"\u90ae\u4ef6\u5730\u5740"],phone:[/^(\d{3,4}-)\d{7,8}(-\d{1,6})?$/,"\u7535\u8bdd\u53f7\u7801"],mobile:[/^1\d{10}$/,"\u624b\u673a\u53f7\u7801"],date:[/^\d{4}\-[01]?\d\-[0-3]?\d$|^[01]\d\/[0-3]\d\/\d{4}$/,"\u65e5\u671f"],integer:[/^[1-9][0-9]*$/,"\u6570\u5b57"],number:[/^[+-]?[1-9][0-9]*(\.[0-9]+)?([eE][+-][1-9][0-9]*)?$|^[+-]?0?\.[0-9]+([eE][+-][1-9][0-9]*)?$/,"\u6570\u503c"],money:[/^\d+(\.\d{0,2})?$/,
"\u91d1\u989d"],cnID:[/^\d{15}$|^\d{17}[0-9a-zA-Z]$/,"\u8eab\u4efd\u8bc1\u53f7"],chinese:[/^[\u2E80-\uFE4F]+$/,"\u6c49\u5b57"],zip:[/^[0-9]{6}$/,"\u90ae\u653f\u7f16\u7801"],bankname:/^[a-zA-Z0-9\u4e00-\u9fa5]+$/,name:/^([\u4e00-\u9fa5|A-Z|\s]|\u3007)+([\.\uff0e\u00b7\u30fb]?|\u3007?)+([\u4e00-\u9fa5|A-Z|\s]|\u3007)+$/,realName:/^([\u4e00-\u9fa5|a-zA-Z|\s]|\u3007)+([\.\uff0e\u00b7\u30fb]?|\u3007?)+([\u4e00-\u9fa5|a-zA-Z|\s]|\u3007)+$/},options:{enabled:!0,required:!1,autoTrim:!0,checkOnBlur:!1,visibleOnly:!1,
skipReadOnly:!0,skipDisabled:!0,stopOnError:!1,autoFocus:!0,containerSelector:e,labelHandler:e,errorClass:"fm-error",tipSelector:e,tipTemplate:'<div class="fm-explain">{text}</div>',message:"{label}\u586b\u5199\u4e0d\u6b63\u786e"},messages:{1:"",2:"\u8bf7\u586b\u5199{label}",3:"\u586b\u5199\u7684{label}\u4e0d\u80fd\u88ab\u8bc6\u522b\u4e3a{type}",4:"{label}\u7684\u957f\u5ea6\u4e0d\u80fd\u5c0f\u4e8e{minLength}",5:"{label}\u7684\u957f\u5ea6\u4e0d\u80fd\u5927\u4e8e{maxLength}",6:"\u4e24\u6b21\u8f93\u5165{label}\u4e0d\u5339\u914d",
7:"\u8f93\u5165\u7684\u6570\u503c\u4e0d\u5728\u6b63\u786e\u7684\u8303\u56f4\u5185"},ruleOptions:{maxLength:e,minLength:e,sameWith:e,type:e,message:e,label:e}},b=function(){var b=a.toArray(arguments),c=b.shift();"string"===typeof c&&(c=eval(c));return c.apply(this,b)};validator=function(b,f){this.form=a.get(b.form);if(!this.form)throw"form not found";this.rules=f||{};this.options=a.extend({},c.options,b);this.result={};this.init();var e=this;"FORM"===this.form.tagName&&a.on(this.form,"submit",function(a){e.validate()||
a.cancel()})};c.rules={minLength:function(a,b,c){if(b.length<c)return 4},maxLength:function(a,b,c){if(b.length>c)return 5},sameWith:function(b,c,f){b=this.form.field(f);b=b.length?b[0]:a.get(f);return!b?!1:c===b.value?0:6},range:function(a,b,c){a=c.split("|");b=parseInt(b,10);if(2!==a.length)return 0;c=a[0].length?parseInt(a[0],10):Number.MIN_VALUE;num2=a[1].length?parseInt(a[1],10):Number.MAX_VALUE;return isNaN(c)||isNaN(num2)?0:!isNaN(b)&&b>=c&&b<=num2?0:7},regexp:function(a,b,c){return!b||!c?0:
RegExp(c).test(b)?0:1},expression:function(b,c,f){if(!f)return 0;b=a.decode(f);b=-1===b.indexOf("#")?c+" "+b:b.replace(/#/g,c);a.log("evaluating %s",b);try{return eval(b)?0:1}catch(e){return 1}},type:function(b,f,e){var j=!1;a.each(e.split("|"),function(b,e){if(!e)return 0;var d=c.types[e];if(!d)return 0;a.isArray(d)&&(d=d[0]);return j=d.test(f)});return j?0:1}};validator.prototype=function(){var d={focus:"onfocusin",blur:"onfocusout"},l=0,g=/^(INPUT|SELECT|TEXTAREA)$/,j=function(a,b){var c=this,
f=d[a],e=function(a){a=a.target||a.srcElement;g.test(a.tagName)&&b.call(c,a)};f in this.form?this.form.attachEvent(f,e):this.form.addEventListener(a,e,!0)},i=function(a,b,c){b=b[a];return b===e?c[a]:b},h=function(a){var b="";switch(a.tagName){case "SELECT":b=a.multiple?f("option:selected",a).map(function(a){return a.value}).join():a.value;break;case "INPUT":if(b=a.type.toLowerCase(),"radio"===b||"checkbox"===b){b=f(a).parent("form").find('[name="'+a.name+'"]:checked').map(function(a){return a.value}).join();
break}default:b=a.value}return b},n=function(a,b,c){"false"===b&&(c[a]=!1)},k=function(d){var g=this.options,m=d.getAttribute("data-validate"),j=d.name,k=f(d);if(!a.exists(d)||!g.required&&!m)return 0;j||(j="_lv"+l++);m=this.rules[j]=a.extend({},c.ruleOptions,k.getConfig("data-validate",n));if(d.readOnly&&i("skipReadOnly",m,g)||d.disabled&&i("skipDisabled",m,g)||!i("enabled",m,g)||!i("checkOnBlur",m,g)&&!this.submitting||this.submitting&&k.prev(".validating").length||i("visibleOnly",m,g)&&!d.offsetHeight)return 0;
var x,o=0,u="default",z=m.message;m.before&&(x=h(d),i("autoTrim",m,g)&&(x=a.trim(x)),o=b.call(this,m.before,d,x),o=!1===o?10:0);if(!o){x=h(d);i("autoTrim",m,g)&&(x=a.trim(x));var w=i("required",m,g);a.isFunction(w)&&(w=w.call(this,d));x?(a.each(m,function(a,b){if(b===e||!c.rules[a])return true;(o=c.rules[a].call(this,d,x,b))&&a==="type"&&(u=b);return!o}),!o&&m.after&&(o=b.call(this,m.after,d,x),"string"===typeof o&&o?(z=o,o=10):o=!1===o?10:0)):w&&(o=2)}if(o){var w=c.messages[o],A={value:x};2!=o&&
z&&(w=z);w||(u&&c.types[u]&&c.types[u][1]?(A.type=c.types[u][1],w=c.messages[3]):w=g.message);k=k.addClass("validating").parent(g.containerSelector);g.tipSelector&&(k=f(g.tipSelector,k));k.addClass(g.errorClass);z=m.label;!z&&g.labelHandler&&(z=g.labelHandler.call(this,d));A.label=(z||"\u6b64\u9879").replace(/[\uff1a:]/g,"");w=a.substitute(w,a.extend({},m,A));a.log("error found in %s: %s (%d)",j,w,o);m=d.parentNode;m._tip&&a.exists(m._tip)&&m._tip.del();m._tip=f.build(a.substitute(g.tipTemplate,{text:w})).appendTo(g.tipSelector?
k:m);try{visible&&g.autoFocus&&this.submitting&&!this.focused&&d.focus(),this.focused=!0}catch(J){this.focused=!1}this.result[j]={code:o,message:w}}else this.result[j]&&delete this.result[j],t.call(this,d,!0);return o},t=function(a,b){if(b||!this.submitting&&this.options.enabled&&(this.options.required||a.getAttribute("data-validate"))){var c=this.options;f(a).removeClass("validating").parent(c.containerSelector).removeClass(c.errorClass);(c=a.parentNode._tip)&&c.del()}};return{init:function(){j.call(this,
"blur",k);j.call(this,"focus",t)},addRule:function(b,c){var d=this.rules;d[b]||(d[b]={});a.extend(d[b],c)},checkItem:function(){var b=this,c=this.form;a.each(a.toArray(arguments),function(){var d=a.isString(this)?f('[name="'+this+'"]',c)[0]:a.get(this);d&&k.call(b,d)})},resetItem:function(){var b=this,c=this.form;a.each(a.toArray(arguments),function(){var d=a.isString(this)?f('[name="'+this+'"]',c)[0]:a.get(this);d&&t.call(b,d,!0)})},resetForm:function(){var a=this.options,c=this;a.before&&b.call(this,
a.before);f("input, select, textarea",this.form).each(function(){t.call(c,this,!0)});a.after&&b.call(this,a.after,!0)},validate:function(){var c=this,d=this.options,e=0,g=d.stopOnError,i=d.enabled;if(!a.exists(this.form))return!0;this.result={};a.isFunction(i)&&(i=!!i.call(this));if(!i)return!0;if(this.submitting)return!1;this.submitting=!0;if(d.before){if(i=!1===b.call(this,d.before)?10:0)this.result._before={code:i};e+=i}this.focused=!1;g&&e||f("input, select, textarea",this.form).each(function(){e+=
k.call(c,this)||0;return!g||!e});if(d.after){if(i=!1===b.call(this,d.after,!e)?11:0)this.result._after={code:i};e+=i}setTimeout(function(){c.submitting=!1},100);return!e}}}();a.validator=a.extend(validator,c)})(light,light.node);
(function(a){function f(a,c,b){a=b.createElement(a);if(null===c)return a;for(p in c)if("class"==p||"className"==p)a.className=c[p];else if("style"==p)for(s in c[p])a.style[s]=c[p][s];else"innerHTML"===p?a.innerHTML=c[p]:"appendTo"===p?c[p].appendChild(a):"append"===p?a.appendChild(c[p]):a.setAttribute([p],c[p]);return a}a.dialog=function(e){if(a.page._dialog)return a.page._dialog;this.config=a.extend({},{targetFrame:document,title:"\u5b89\u5168\u63a7\u4ef6\u63d0\u793a",bodyId:"light-dialog",bodyClass:"light-dialog",
iframeId:"light-dialog-iframe",overlayId:"light-dialog-shadow",overlayClass:"light-dialog-shadow",loadingId:"light-load",loadClass:"light-load",loadingSrc:"https://img.alipay.com/global/loading.gif",iframeSrc:"https://securitycenter.alipay.com/sc/aliedit/xbox.htm",timeout:2E4},e);var c=this.config.targetFrame;this.body=c.getElementById(this.config.bodyId);this.overlay=c.getElementById(this.config.overlayId);this.load=c.getElementById(this.config.loadingId);var b=function(){var b="",d="",f=c.compatMode,
e=a.client.info;if(f||e.engine.trident)"CSS1Compat"==f?(b=c.documentElement.clientWidth,d=c.documentElement.clientHeight):(b=c.body.clientWidth,d=c.body.clientHeight);document.all?(f=document.body.scrollTop,e=document.body.scrollLeft):(f=window.pageYOffset,e=window.pageXOffset);return{maxWidth:Math.max(c.documentElement.clientWidth,c.body.scrollWidth,c.documentElement.scrollWidth,c.body.offsetWidth,c.documentElement.offsetWidth),maxHeight:Math.max(c.documentElement.clientHeight,c.body.scrollHeight,
c.documentElement.scrollHeight,c.body.offsetHeight,c.documentElement.offsetHeight),clientWidth:b,clientHeight:d,scrollTop:f,scrollLeft:e}},d=this;a.page._dialog=d;a.ready(function(){if(!d.body){d.body=f("div",{id:d.config.bodyId,"class":d.config.bodyClass,style:{left:Math.max((b().clientWidth-620)/2+b().scrollLeft,0)+"px",top:Math.max((b().clientHeight-400)/2+b().scrollTop,0)+"px"},appendTo:c.body},c);var e=function(){d.body.style.left=Math.max((b().clientWidth-620)/2+b().scrollLeft,0)+"px";d.body.style.top=
Math.max((b().clientHeight-400)/2+b().scrollTop,0)+"px"};a.on(window,"resize",e);a.on(window,"scroll",e);d.body.innerHTML='<div class="light-dialog-top"><div class="light-dialog-title"><h2>'+d.config.title+'</h2><a href="#" id="light-dialog-close"><s></s><em>\u5173\u95ed</em></a></div></div>';d.iframe=f("iframe",{id:d.config.iframeId,frameBorder:"no",scrolling:"no",src:"",appendTo:d.body},c)}d.overlay||(d.overlay=f("div",{id:d.config.overlayId,"class":d.config.overlayClass,innerHTML:"<iframe src=\"javascript:''\"></iframe>",
style:{width:b().maxWidth+"px",height:b().maxHeight+"px"},appendTo:c.body},c),a.on(window,"resize",function(){d.overlay.style.width=b().maxWidth+"px";d.overlay.style.height=b().maxHeight+"px"}));d.load||(d.load=f("div",{id:d.config.loadingId,"class":d.config.loadClass,innerHTML:'<img src="'+d.config.loadingSrc+'">',style:{left:(b().clientWidth-208)/2+"px",top:(b().clientHeight-50)/2+"px"},appendTo:c.body},c))})};a.dialog.prototype={show:function(){var f=this;this.load.style.visibility="visible";this.overlay.style.visibility=
"visible";a.on(this.iframe,"load",function(){f.body.style.visibility="visible";f.load.style.visibility="hidden";var c=f.config.targetFrame.getElementById("light-dialog-close")||{};a.on(c,"click",function(){f.hide()});a.on(f.config.targetFrame,"keydown",function(a){27==a.which&&(f.hide(),a.cancel())})});this.iframe.src=this.config.iframeSrc},hide:function(){this.body.style.visibility="hidden";this.overlay.style.visibility="hidden"},dispose:function(){targetFrame.body.removeChild(this.load);targetFrame.body.removeChild(this.body);
targetFrame.body.removeChild(this.overlay)},onShow:a.noop};a.dialog.prototype.constructor=a.dialog})(window.light);
(function(a){a.pop=function(f){this.options=a.extend({},{targets:[],id:"",className:"",width:280,height:null,type:"message",event:"mouseover",direction:"up"},f);this.pop=null;this.init()};a.pop.position={up:function(a,e,c,b,d){d.direction=a;e.height+e.top-c.top-c.height<b.height+d.height?d.direction="down":c.top-e.top<b.height+d.height&&(d.direction="up");"up"==d.direction?(b.top=c.top+c.height+d.height,d.top=1-d.height):(b.top=c.top-d.height-b.height,d.top=b.innerHeight-1);b.left=c.left<e.left+parseInt(b.width/
2)-c.width?e.left:c.left>e.left+e.width-parseInt(b.width/2)?e.left+e.width-b.width:c.left+parseInt(c.width/2)-parseInt(b.width/2);d.left=c.left<b.left?0:c.left>b.left+b.width?b.width-d.width:c.width<b.width?c.left+parseInt((c.width-d.width)/2)-b.left:parseInt(b.width/2);return{rect:b,arrow:d}},left:function(){}};a.pop.position.down=a.pop.position.up;a.pop.position.left=a.pop.position.right;a.pop.prototype={init:function(){var f=this;this.initDom();a.each(this.options.targets,function(e,c){c=a.node(c);
c.mouseover(function(){f.show(c)}).mouseout(function(){f.hide(c)})})},initDom:function(){this.wrap=a.node.build(a.substitute('<div id="{id}" class="{className}"><div class="ui-tiptext-container ui-tiptext-container-{type}"><span class="ui-tiptext-arrow ui-tiptext-arrowup"></span><span class="ui-tiptext-icon"></span><div class="ui-tiptext-content"></div></div></div>',{id:this.options.id,className:this.options.className,type:this.options.type})).appendTo(document.body).hide();this.pop=a.node(".ui-tiptext-container",
this.wrap);this.arrow=a.node(".ui-tiptext-arrow",this.pop);this.content=a.node(".ui-tiptext-content",this.pop)},show:function(a){this.content.html(a.attr("data-content"));this.setSize();this.wrap.show();this.setPosition(a[0])},hide:function(){this.wrap.hide()},setSize:function(){this.options.width&&(this.pop[0].style.width=this.options.width+"px");this.options.height&&(this.pop[0].style.height=this.options.height+"px")},setPosition:function(f){var e;e=a.getScroll();var f=a.region(f),c=a.region(this.pop[0]),
b=a.region(this.arrow[0]);c.innerHeight=this.pop[0].clientHeight;e.width=a.getViewportWidth();e.height=a.getViewportHeight();e=a.pop.position[this.options.direction](this.options.direction,e,f,c,b);a.setStyle(this.pop[0],{position:"absolute",zIndex:"9999",left:e.rect.left+"px",top:e.rect.top+"px"});a.setStyle(this.arrow[0],{left:e.arrow.left+"px",top:e.arrow.top+"px"});this.arrow[0].className="ui-tiptext-arrow ui-tiptext-arrow"+e.arrow.direction}}})(window.light);
(function(a,f){function e(a,b,c,f){var e,B,g,i,j=l++,h=0,k=b.length;"string"===typeof c&&!t.test(c)&&(i=c=c.toLowerCase());for(;h<k;h++)if(e=b[h]){B=!1;for(e=e[a];e;){if(e[d]===j){B=b[e.sizset];break}if((g=1===e.nodeType)&&!f)e[d]=j,e.sizset=h;if(i){if(e.nodeName.toLowerCase()===c){B=e;break}}else if(g)if("string"!==typeof c){if(e===c){B=!0;break}}else if(0<q.filter(c,[e]).length){B=e;break}e=e[a]}b[h]=B}}var c=a.document,b=c.documentElement,d="sizcache"+(Math.random()+"").replace(".",""),l=0,g=Object.prototype.toString,
j=!1,i=!0,h=/^#([\w\-]+$)|^(\w+$)|^\.([\w\-]+$)/,n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,k=/\\/g,t=/\W/,I=/^\w/,E=/\D/,m=/(-?)(\d*)(?:n([+\-]?\d*))?/,O=/^\+|\s*/g,P=/h\d/i,x=/input|select|textarea|button/i,o=/[\t\n\f\r]/g,u={ID:/#((?:[-\w]|[^\x00-\xa0]|\\.)+)/,CLASS:/\.((?:[-\w]|[^\x00-\xa0]|\\.)+)/,NAME:/\[name=['"]*((?:[-\w]|[^\x00-\xa0]|\\.)+)['"]*\]/,TAG:RegExp("^("+"(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)".replace("[-",
"[-\\*")+"+)"),ATTR:RegExp("\\[\\s*((?:[-\\w]|[^\\x00-\\xa0]|\\\\.)+)\\s*(?:(\\S?=)\\s*(?:(['\"])(.*?)\\3|(#?(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)*)|)|)\\s*\\]"),PSEUDO:/:((?:[-\w]|[^\x00-\xa0]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/},z=u.POS,w=function(){var a,b=function(a,b){return"\\"+(b-0+1)},c={};for(a in u)u[a]=
RegExp(u[a].source+/(?![^\[]*\])(?![^\(]*\))/.source),c[a]=RegExp(/(^(?:.|\r|\n)*?)/.source+u[a].source.replace(/\\(\d+)/g,b));u.globalPOS=z;return c}(),A=function(a){var b=!1,d=c.createElement("div");try{b=a(d)}catch(f){}return b},J=A(function(a){var d=!0,f="script"+(new Date).getTime();a.innerHTML="<a name ='"+f+"'/>";b.insertBefore(a,b.firstChild);c.getElementById(f)&&(d=!1);b.removeChild(a);return d}),Q=A(function(a){a.appendChild(c.createComment(""));return 0===a.getElementsByTagName("*").length}),
R=A(function(a){a.innerHTML="<a href='#'></a>";return a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),L=A(function(a){a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!a.getElementsByClassName||0===a.getElementsByClassName("e").length)return!1;a.lastChild.className="e";return 1!==a.getElementsByClassName("e").length});[0,0].sort(function(){i=!1;return 0});var q=function(a,b,d){var d=d||[],b=b||c,e,C,B,g=b.nodeType;if(1!==g&&
9!==g)return[];if(!a||"string"!==typeof a)return d;B=G(b);if(!B&&(e=h.exec(a)))if(e[1])if(9===g)if((C=b.getElementById(e[1]))&&C.parentNode){if(C.id===e[1])return y([C],d)}else return y([],d);else{if(b.ownerDocument&&(C=b.ownerDocument.getElementById(e[1]))&&M(b,C)&&C.id===e[1])return y([C],d)}else{if(e[2])return"body"===a&&b.body?y([b.body],d):y(b.getElementsByTagName(a),d);if(L&&e[3]&&b.getElementsByClassName)return y(b.getElementsByClassName(e[3]),d)}return D(a,b,d,f,B)},D=function(a,b,c,d,e){var f,
i,h,j,k,l=b,m=!0,r=[],o=a;do if(n.exec(""),f=n.exec(o))if(o=f[3],r.push(f[1]),f[2]){j=f[3];break}while(f);if(1<r.length&&z.exec(a))if(2===r.length&&v.relative[r[0]])i=N(r[0]+r[1],b,d,e);else for(i=v.relative[r[0]]?[b]:q(r.shift(),b);r.length;)a=r.shift(),v.relative[a]&&(a+=r.shift()),i=N(a,i,d,e);else if(!d&&1<r.length&&9===b.nodeType&&!e&&u.ID.test(r[0])&&!u.ID.test(r[r.length-1])&&(f=q.find(r.shift(),b,e),b=f.expr?q.filter(f.expr,f.set)[0]:f.set[0]),b){f=d?{expr:r.pop(),set:y(d)}:q.find(r.pop(),
1<=r.length&&("~"===r[0]||"+"===r[0])&&b.parentNode||b,e);i=f.expr?q.filter(f.expr,f.set):f.set;for(0<r.length?h=y(i):m=!1;r.length;)f=k=r.pop(),v.relative[k]?f=r.pop():k="",null==f&&(f=b),v.relative[k](h,f,e)}else h=[];h||(h=i);h||q.error(k||a);if("[object Array]"===g.call(h))if(m)if(b&&1===b.nodeType)for(a=0;null!=h[a];a++)h[a]&&(!0===h[a]||1===h[a].nodeType&&M(b,h[a]))&&c.push(i[a]);else for(a=0;null!=h[a];a++)h[a]&&1===h[a].nodeType&&c.push(i[a]);else c.push.apply(c,h);else y(h,c);j&&(D(j,l,c,
d,e),S(c));return c},G=q.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},y=function(a,b){var b=b||[],c=0,d=a.length;if("number"===typeof d)for(;c<d;c++)b.push(a[c]);else for(;a[c];c++)b.push(a[c]);return b},S=q.uniqueSort=function(a){if(H&&(j=i,a.sort(H),j))for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a},M=q.contains=b.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:b.contains?function(a,b){return a!==
b&&(a.contains?a.contains(b):!1)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;return!1};q.matches=function(a,b){return D(a,c,[],b,G(c))};q.matchesSelector=function(a,b){return 0<D(b,c,[],[a],G(c)).length};q.find=function(a,b,c){var d,f,e,g,i,h;if(!a)return[];f=0;for(e=v.order.length;f<e;f++)if(i=v.order[f],g=w[i].exec(a))if(h=g[1],g.splice(1,1),"\\"!==h.substr(h.length-1)&&(g[1]=(g[1]||"").replace(k,""),d=v.find[i](g,b,c),null!=d)){a=a.replace(u[i],"");break}d||(d="undefined"!==typeof b.getElementsByTagName?
b.getElementsByTagName("*"):[]);return{set:d,expr:a}};q.filter=function(a,b,c,d){for(var e,g,i,h,j,k,l,m,r=a,n=[],o=b,t=b&&b[0]&&G(b[0]);a&&b.length;){for(i in v.filter)if(null!=(e=w[i].exec(a))&&e[2])if(k=v.filter[i],j=e[1],g=!1,e.splice(1,1),"\\"!==j.substr(j.length-1)){o===n&&(n=[]);if(v.preFilter[i])if(e=v.preFilter[i](e,o,c,n,d,t)){if(!0===e)continue}else g=h=!0;if(e)for(l=0;null!=(j=o[l]);l++)j&&(h=k(j,e,l,o),m=d^h,c&&null!=h?m?g=!0:o[l]=!1:m&&(n.push(j),g=!0));if(h!==f){c||(o=n);a=a.replace(u[i],
"");if(!g)return[];break}}if(a===r)if(null==g)q.error(a);else break;r=a}return o};q.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};var K=q.getText=function(a){var b,c;b=a.nodeType;var d="";if(b)if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=K(a)}else{if(3===b||4===b)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(d+=K(c));return d},v=q.selectors={match:u,leftMatch:w,order:["ID","NAME",
"TAG"],attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:R?function(a){return a.getAttribute("href")}:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"===typeof b,d=c&&!t.test(b),c=c&&!d;d&&(b=b.toLowerCase());for(var d=0,f=a.length,e;d<f;d++)if(e=a[d]){for(;(e=e.previousSibling)&&1!==e.nodeType;);a[d]=c||e&&e.nodeName.toLowerCase()===b?e||!1:e===b}c&&q.filter(b,a,!0)},">":function(a,b){var c,d="string"===
typeof b,e=0,f=a.length;if(d&&!t.test(b))for(b=b.toLowerCase();e<f;e++){if(c=a[e])c=c.parentNode,a[e]=c.nodeName.toLowerCase()===b?c:!1}else{for(;e<f;e++)(c=a[e])&&(a[e]=d?c.parentNode:c.parentNode===b);d&&q.filter(b,a,!0)}},"":function(a,b,c){e("parentNode",a,b,c)},"~":function(a,b,c){e("previousSibling",a,b,c)}},find:{ID:J?function(a,b,c){if("undefined"!==typeof b.getElementById&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]}:function(a,b,c){if("undefined"!==typeof b.getElementById&&
!c)return(b=b.getElementById(a[1]))?b.id===a[1]||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").nodeValue===a[1]?[b]:f:[]},NAME:function(a,b){if("undefined"!==typeof b.getElementsByName){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return 0===c.length?null:c}},TAG:Q?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a[1])}:function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===
a[1]){for(var d=[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return c}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(k,"")+" ";if(f)return a;for(var f=0,g;null!=(g=b[f]);f++)g&&(e^(g.className&&0<=(" "+g.className+" ").replace(o," ").indexOf(a))?c||d.push(g):c&&(b[f]=!1));return!1},ID:function(a){return a[1].replace(k,"")},TAG:function(a){return a[1].replace(k,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||q.error(a[0]);a[2]=a[2].replace(O,"");var b=m.exec("even"===
a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!E.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&q.error(a[0]);a[0]=l++;return a},ATTR:function(a,b,c,d,e,f){b=a[1]=a[1].replace(k,"");!f&&v.attrMap[b]&&(a[1]=v.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(k,"");"~="===a[2]&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,d,e,f,g){if("not"===a[1])if(1<(n.exec(a[3])||"").length||I.test(a[3]))a[3]=D(a[3],c,[],b,g);else return a=q.filter(a[3],b,d,!f),d||e.push.apply(e,a),!1;else if(u.POS.test(a[0])||
u.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!q(c[3],a).length},header:function(a){return P.test(a.nodeName)},
text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(null===b||b.toLowerCase()===c)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();
return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return x.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&!(!a.type&&!a.href)},active:function(a){return a===
a.ownerDocument.activeElement},contains:function(a,b,c){return 0<=(a.textContent||a.innerText||K(a)).indexOf(c[3])}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=v.filters[e];if(f)return f(a,
c,b,d);if("not"===e){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return!1;return!0}q.error(e)},CHILD:function(a,b){var c,e,f,g,i,h;c=b[1];h=a;switch(c){case "only":case "first":for(;h=h.previousSibling;)if(1===h.nodeType)return!1;if("first"===c)return!0;h=a;case "last":for(;h=h.nextSibling;)if(1===h.nodeType)return!1;return!0;case "nth":c=b[2];e=b[3];if(1===c&&0===e)return!0;f=b[0];if((g=a.parentNode)&&(g[d]!==f||!a.nodeIndex)){i=0;for(h=g.firstChild;h;h=h.nextSibling)1===h.nodeType&&(h.nodeIndex=
++i);g[d]=f}h=a.nodeIndex-e;return 0===c?0===h:0===h%c&&0<=h/c}},ID:J?function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b}:function(a,b){var c="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return-1<(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)},ATTR:function(a,b){var c=b[1],c=q.attr?q.attr(a,c):v.attrHandle[c]?
v.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),d=c+"",e=b[2],f=b[4];return null==c?"!="===e:!e&&q.attr?null!=c:"="===e?d===f:"*="===e?0<=d.indexOf(f):"~="===e?0<=(" "+d+" ").indexOf(f):!f?d&&!1!==c:"!="===e?d!==f:"^="===e?0===d.indexOf(f):"$="===e?d.substr(d.length-f.length)===f:"|="===e?d===f||d.substr(0,f.length+1)===f+"-":!1},POS:function(a,b,c,d){var e=v.setFilters[b[2]];if(e)return e(a,c,b,d)}}};L&&(v.order.splice(1,0,"CLASS"),v.find.CLASS=function(a,b,c){if("undefined"!==typeof b.getElementsByClassName&&
!c)return b.getElementsByClassName(a[1])});var H,F;b.compareDocumentPosition?H=function(a,b){if(a===b){j=true;return 0}return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(H=function(a,b){if(a===b){j=true;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[];c=a.parentNode;d=b.parentNode;var g=c;if(c===d)return F(a,b);if(c){if(!d)return 1}else return-1;for(;g;){e.unshift(g);g=g.parentNode}for(g=
d;g;){f.unshift(g);g=g.parentNode}c=e.length;d=f.length;for(g=0;g<c&&g<d;g++)if(e[g]!==f[g])return F(e[g],f[g]);return g===c?F(a,f[g],-1):F(e[g],b,1)},F=function(a,b,c){if(a===b)return c;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});c.querySelectorAll&&function(){var a=D,b=/^\s*[+~]/,c=/'/g,d=[];A(function(a){a.innerHTML="<select><option selected></option></select>";a.querySelectorAll("[selected]").length||d.push("\\[[\\x20\\t\\n\\r\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");
a.querySelectorAll(":checked").length||d.push(":checked")});A(function(a){a.innerHTML="<p class=''></p>";a.querySelectorAll("[class^='']").length&&d.push("[*^$]=[\\x20\\t\\n\\r\\f]*(?:\"\"|'')");a.innerHTML="<input type='hidden'>";a.querySelectorAll(":enabled").length||d.push(":enabled",":disabled")});d=d.length&&RegExp(d.join("|"));D=function(e,f,g,h,i){if(!h&&!i&&(!d||!d.test(e)))if(f.nodeType===9)try{return y(f.querySelectorAll(e),g)}catch(j){}else if(f.nodeType===1&&f.nodeName.toLowerCase()!==
"object"){var k=f,l=f.getAttribute("id"),m=l||"__sizzle__",n=f.parentNode,o=b.test(e);l?m=m.replace(c,"\\$&"):f.setAttribute("id",m);o&&n&&(f=n);try{if(!o||n)return y(f.querySelectorAll("[id='"+m+"'] "+e),g)}catch(q){}finally{l||k.removeAttribute("id")}}return a(e,f,g,h,i)}}();var N=function(a,b,c,d){for(var e=[],f="",g=b.nodeType?[b]:b,h=0,i=g.length;b=u.PSEUDO.exec(a);){f=f+b[0];a=a.replace(u.PSEUDO,"")}for(v.relative[a]&&(a=a+"*");h<i;h++)D(a,g[h],e,c,d);return q.filter(f,e)};light.Sizzle=q})(window);
light.extend(light.Sizzle.selectors.filters,{checkable:function(a){return"input"===a.nodeName.toLowerCase()&&"undefined"!==typeof a.type},hasValue:function(a){a=a.value;return"string"===typeof a&&""!==a},filled:function(a){return!a.readOnly&&!!light.trim(a.value)}});light.node.getSizzle=function(){return light.Sizzle};light.has("/alipay/security/base")||function(e){var h=e.client.info,i=0,j=[],f=function(a){if(a!==j)throw"invalid constructor, use create() instead.";},k=function(a,d){return a&&d&&1===a.nodeType&&"undefined"!==typeof a[d]};e.register("alipay/security/base",window,f);var g=alipay.security;g.downloadServer=g.downloadServer||"//download."+e.baseDomain;g.securityCenterServer=g.securityCenterServer||"//securitycenter."+e.baseDomain;f.defaults={id:"",container:null,msgMode:"quiet",msgTitle:"",msgNormalAttribute:"data-explain",
msgFormItemContainer:null,msgClass:"fm-explain",msgErrorClass:"fm-error",msgHandler:null};f.Name="base";f.properties={element:null,_readyList:[]};g.monitor=function(a,d){window.monitor&&monitor.log("sc",a||"unknown",d);e.track("sc-"+a+"-"+d)};g.create=f.create=function(a,d){if(!a)throw"invalid param";var b=new a(j);b.__type=a;var c=f.defaults;a.defaults&&(a.defaults=c=e.extend({},f.defaults,a.defaults));c=b.options=e.extend({},c,d);c.id?(c.dataId=c.id+(new Date).getTime()+Math.floor(1E3*Math.random()),
e.node("[id="+c.id+"]:not([data-id]):first").attr("data-id",c.dataId),c.uniqElement=e.node("[data-id="+c.dataId+"]:first")[0]):(i++,c.id="_secprd_"+i);!e.get(c.id)&&"string"===typeof c.container&&(c.container=e.get(c.container));e.extend(b,f.properties,a.properties);a.prototype.postInit&&a.prototype.postInit.call(b);return b};g.activeXEnabled=f.activeXEnabled=function(){if(!window.ActiveXObject)return!1;var a=window.external;try{if(a&&"undefined"!=typeof a.msActiveXFilteringEnabled&&a.msActiveXFilteringEnabled())return!1}catch(d){}return!0}();
g.refreshStatus=f.refreshStatus=function(a){var d=a.installed=!1,b=h.engine.trident?a.info.activex:a.info.plugin;if(!b)return!1;if(h.engine.trident){if(!g.activeXEnabled)return!1;var c;try{c=new ActiveXObject(b),d=!!c}catch(e){}finally{}}else h.engine.presto&&(b=b.replace(/,/,"")),d=!(!navigator.plugins||!navigator.plugins[b]);return a.installed=d};f.prototype={toString:function(){return this.__type.Name+" ("+this.options.id+")"},ready:!1,onready:function(a){this.ready?a.apply(this):this._readyList.push(a)},
hasAPI:function(a){return k(this.element,a)},dispose:function(){this.element&&(this.element.parentNode.removeChild(this.element),this.element=null);this.ready=!1;this._readyList.length=0},api:function(a,d){if(!this.hasAPI(a))throw"Property is not available: "+a;try{return void 0===d?this.element[a]:this.element[a]=d}catch(b){this.catchError.call(this,a,b)}return null},render:function(){var a=!1,d=function(){var c=this,b=e.get(this.options.id);if(k(b,this.__type.defaultMethod)){this.element=b;this.ready=
!0;this.__type.renderHandler&&(a=!1===this.__type.renderHandler.call(this,!1));for(b=this._readyList;b.length;)b.shift().apply(this)}else a||setTimeout(function(){d.call(c)},0)},b=function(a,b,c){this.__type.renderingHandler&&this.__type.renderingHandler.call(this,!0);e.isFunction(b)&&this._readyList.push(b);c||(b=this.options.container||document.body,b.childNodes.length?(c=document.createElement("span"),c.innerHTML=a,b.appendChild(c)):b.innerHTML=a);d.call(this)},c=function(){var a=this,b=this.__type;
g.refreshStatus(b);b.installed?(e.log("Plugin just installed."),b.installedHandler&&b.installedHandler.call(this)):setTimeout(function(){c.call(a)},10)};return function(a,d){if(!this.alive){this.alive=!0;var f=e.extend({},this.__type.info,this.options),g=this;this.__type.installed||c.call(this);e.ready(function(){b.call(g,e.substitute(g.__type.template,f),a,d)})}}}(),getMessage:function(a){var d,b=this.__type;e.each(b.message,function(b,e){if(-1!==b.indexOf("-")){var g=b.split("-",2),f=parseInt(g[0],
10)||Number.MIN_VALUE,g=parseInt(g[1],10)||Number.MAX_VALUE;found=a>=f&&a<=g}else found=b==a;found&&(d=e);return!found});d||(d=b.message[0]);return d},showMessage:function(a){var d=0,b="",c=this.options.msgMode;"string"===typeof a?b=a:"object"===typeof a&&(void 0!==a.status?(d=a.status,b=a.msg):void 0!==a.number&&(d=a.number,b=a.description));b||(b="\u672a\u77e5\u9519\u8bef",e.log("Cannot determine message %s.",a));a={title:"\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef",type:"string",content:b,
code:d,show:!0};switch(c){case "dialog":case "tooltip":e.page.ui[c](a);break;case "form":break;case "custom":e.log("Handler not found.");break;default:e.log("%d, %s",a.code,a.content)}},catchError:function(a,d,b){var c=this.__type,f=d.status||d.number||0;0>f&&(f=(4294967295+f+1).toString(16));e.log("Caught error %s from %s in action %s.",f,c.Name,a);g.monitor(c.Name,f);b||this.showMessage(d)}}}(window.light);light.has("/security/edit")||function(a,h){var c=light.client.info,f=alipay.security.downloadServer,n=alipay.security.securityCenterServer,k=function(){var b="windows"==c.os.name?"Alipay security control":"macos"==c.os.name?"Aliedit Plug-In":"linux"==c.os.name?"Aliedit":"",i="";if("windows"==c.os.name)i=f+"/sec/edit/aliedit.exe";else if("macos"==c.os.name)"safari"==c.browser.name?5<=navigator.userAgent.toLowerCase().match(/version\/(\d+\.\d+)/)[1]&&(i=f+"/aliedit/wkaliedit/1002/wkaliedit.dmg"):i=
f+"/aliedit/wkaliedit/1002/wkaliedit.dmg";else if("linux"==c.os.name&&("firefox"==c.browser.name||"chrome"==c.browser.name||"opera"==c.browser.name))i=f+"/alipaysc/linux/aliedit/1.0.3.20/aliedit.tar.gz";b={activex:"Aliedit.EditCtrl",plugin:b,classId:"488A4255-3236-44B3-8F27-FA1AECAA8844",type:"application/aliedit",version:"2.4.0.1",editSrc:i,cssSrc:(light.debug?"http://assets.dev.alipay.net":"https://assets.alipay.com")+("/al/alice.components.secuirty-edit-1.1"+(light.debug?"-SNAPSHOT-src":"")+".css"),
installationPage:n+"/sc/npedit/dialog.htm"};return{Name:"control.edit",info:b,template:c.engine.trident?'<object id="{id}" classid="clsid:{classId}" width="{width}" height="{height}" tabindex="{tabindex}"><param name="wmode" value="opaque" /><param name="cm5ts" value="{timestamp}" /><param name="cm5pk" value="{pk}" /><param name="PasswordMode" value="{passwordMode}" /><param name="CryptoMode" value="4" /></object>':'<object id="{id}" name="{name}" type="{type}" width="{width}" height="{height}" tabindex="{tabindex}"><param name="PasswordMode" value="{passwordMode}" /></object>',
available:!!b.editSrc,defaultMethod:"TextData"}}(),o=function(){h.cookie={days:365,domain:"."+light.baseDomain,path:"/"};var b=h.get("ac-stat"),i=null,g=!1,e=!1,a=function(){var d=this;"no"==b&&(h.set("ac-stat","success"),light.track("ac-success"));if(!c.engine.trident){var l=1;window.setTimeout(function(){var b=d.element.getElementsByTagName("param");b||window.setTimeout(arguments.callee,100);b[0].name=="PasswordMode"&&b[0].value=="0"&&function(){try{d.element.PasswordMode=0}catch(b){light.track(c.browser.name+
"-alieditBox-password-error")}if(d.element.PasswordMode!==0&&l<20){l++;window.setTimeout(arguments.callee,100)}}()},100)}},m=function(){if(window.top!==window){var d=document.domain.split(".");1<d.length&&(document.domain=d[d.length-2]+"."+d[d.length-1])}if(!b||"success"==b)h.set("ac-stat","no"),light.track("ac-no");(d=location.pathname)&&/payment\/cashier\.htm/.test(d)&&light.track("ac-no-cashier");var l=this,c=document,d=window,a={},j=k.info;try{if(window.top.document.body){c=window.top.document;
do if(a=null!=d.frameElement?d.frameElement:{},/xbox/i.test(a.name)||/xbox/i.test(a.id))g=!0;while((d=d.parent)!=window.top&&!g);i=new light.dialog({targetFrame:c,iframeSrc:j.installationPage})}}catch(p){e=!0}k.detect=function(){try{e||g?j.editSrc?location.href=j.editSrc:alert("\u60a8\u73b0\u5728\u6240\u7528\u7684\u6d4f\u89c8\u5668\uff0c\u6682\u4e0d\u652f\u6301\u5b89\u5168\u63a7\u4ef6\u3002"):i&&i.show()}catch(b){j.editSrc?location.href=j.editSrc:alert("\u60a8\u73b0\u5728\u6240\u7528\u7684\u6d4f\u89c8\u5668\uff0c\u6682\u4e0d\u652f\u6301\u5b89\u5168\u63a7\u4ef6\u3002")}return!1};
(function(){l.options.container.innerHTML='<a href="'+j.installationPage+'" class="aliedit-install J_aliedit_xbox_link" seed="ac-link-tips">\u8bf7\u70b9\u6b64\u5b89\u88c5\u63a7\u4ef6</a>';var b=l.options.container.getElementsByTagName("a")[0];light.on(b,"click",function(b){b.cancel();k.detect()});setTimeout(function(){var b=light.node.build("div",{className:"edit-tips",id:"edit-tips"});b.html('<a class="edit-tips-text" href="'+j.installationPage+'" seed="ac-link-intro">\u63a7\u4ef6\u53ef\u4fdd\u62a4\u60a8\u8f93\u5165\u4fe1\u606f\u7684\u5b89\u5168</a><div class="edit-tips-angle"></div>');
b.appendTo(l.options.container);light.on(b[0],"click",function(b){b.cancel();k.detect()});var d=c.head||c.getElementsByTagName("head")[0]||c.documentElement;d.getElementsByTagName("link");var a=c.createElement("link");a.setAttribute("charset","utf-8");a.setAttribute("rel","stylesheet");a.setAttribute("href",j.cssSrc);d.appendChild(a);light.on(document.body,"click",function(d){d=window.event||d;d=d.srcElement||d.target;b[0]&&void 0!=d.id&&(b[0].className="fn-hide")})},1500)})()};return{postInit:function(){if(this.__type.installed){var b=
this;this.onready(function(){a.call(b)})}else m.call(this)},getInfo:function(b){if(!this.__type.installed)return"";var a="",c={ci1:"mac",ci2:"ipproxy",alieditVersion:"version",pw:"password"}[b];if(!this.element)return"";if("pw"!=b)try{a=this.element[b]();if(/XOR_1_0{30}_/.test(a)||/(?:\d\.){3}\d/.test(a))return a;if("ci2"==b&&""===a)return"";light.track("ac-"+c+"-invalid",!0);return""}catch(e){return light.track("ac-"+c+"-interface-error",!0),""}else{a=this.element.TextData;if(/3DES_2_0{30}_/.test(a))return a;
light.track("ac-"+c+"-invalid",!0);return""}},getCi1:function(){return this.getInfo("ci1")},getCi2:function(){return this.getInfo("ci2")},getVersion:function(){return this.getInfo("alieditVersion")},getPassword:function(){return this.getInfo("pw")}}}(),k=a.edit=light.deriveFrom(a.base,o,k);k.defaults={};a.refreshStatus(a.edit)}(alipay.security,light.client.storage);
light.has("/security/npedit")||function(a,h){var c=light.client.info,f=alipay.security.downloadServer,n=alipay.security.securityCenterServer;npedit=function(){var a={activex:"npAliSecCtrl.SecCtrl",plugin:"Alipay Security Control 3",classId:"8EB7C6CB-2DA6-4ABE-B2EA-EAC5A372E757",type:"application/x-alisecctrl-plugin",version:"2.4.0.1",editSrc:f+"/sec/edit/aliedit.exe",cssSrc:(light.debug?"http://assets.dev.alipay.net":"https://assets.alipay.com")+("/al/alice.components.secuirty-edit-1.1"+(light.debug?
"-SNAPSHOT-src":"")+".css"),installationPage:n+"/sc/npedit/dialog.htm"};return{Name:"control.npedit",info:a,template:c.engine.trident?'<object id="{id}" name="{name}" classid="clsid:{classId}" width="{width}" height="{height}" tabindex="{tabindex}"><param name="prop" value="{prop}"></object>':'<object id="{id}" name="{name}" type="{type}" width="{width}" height="{height}" prop="{prop}" tabindex="{tabindex}" handler="{handler}"></object>',available:a.editSrc?!0:!1,minVersion:"1.0.0.1",defaultMethod:"GetMiscInfo"}}();
members=function(){h.cookie={days:365,domain:"."+light.baseDomain,path:"/"};var a=h.get("ac-stat"),f=function(){"no"==a&&(h.set("ac-stat","success"),light.track("ac-success"));try{var b=this.element.GetMiscInfo("2",0).match(/\d+/)[0]}catch(i){b=0,light.track("npedit-failure-detection-error",!0)}if(0<b&&1E3>b){light.track("BIZ_CODEBASE_ERR"+b,!0);var g=light.node.build("div",{className:"edit-tips-two-lines",id:"aliedit-tips"});g.html('<div class="edit-tips-text">\u68c0\u6d4b\u4e0d\u5230\u5b89\u5168\u63a7\u4ef6\uff0c\u6682\u4e0d\u80fd\u8f93\u5165\uff0c\u70b9\u6b64<a href="#" target="_blank">\u67e5\u770b\u5e2e\u52a9</a></div><div class="edit-tips-angle"></div>');
g.appendTo(this.options.container);g=document.head||document.getElementsByTagName("head")[0]||document.documentElement;g.getElementsByTagName("link");var e=document.createElement("link");e.setAttribute("charset","utf-8");e.setAttribute("rel","stylesheet");e.setAttribute("href",this.__type.info.cssSrc);g.appendChild(e)}if(c.engine.trident)this.element.attachEvent("onstatechange",function(a,c){if(a=="Error"&&c&&(b=c.match(/[^\d]*(\d+)?.*/)[1])){light.track("BIZ_CODEBASE_EVENT_ERR"+b,true);return false}});
else{var g=this.options.handler.split("."),e=g.length,f=window;if(0!=e)for(var m=0;m<e;m++)f=f[g[m]]=f[g[m]]||{};f.onstatechange=function(a,c){if(a=="Error"&&c&&(b=c.match(/[^\d]*(\d+)?.*/)[1])){light.track("BIZ_CODEBASE_EVENT_ERR"+b,true);return false}}}};return{postInit:function(){if(this.__type.installed){var b=this;this.onready(function(){f.call(b)})}},getInfo:function(b,a,c){var e="",h={4:"mac",5:"ipproxy",Default:"password"}[a];if(!this.__type.installed||!this.element)return"";try{"GetMiscInfo"==
b?e=this.element.GetMiscInfo(a,c):"GetEnInfo"==b&&(e=this.element.GetEnInfo(a,c))}catch(f){return light.track("npedit-"+h+"-interface-error",!0),""}if(3==a){if(1==e)return light.track("npedit-password-is-empty",!0),!1;if(0==e)return!0}if(344==e.length||/XOR_1_0{30}_/.test(e))return e;if(5==a&&""===e)return"";light.track("npedit-"+h+"-invalid",!0);return""},getCi1:function(){return this.getInfo("GetMiscInfo","4",0)},getCi2:function(){return this.getInfo("GetMiscInfo","5",0)},getVersion:function(){return""},
getPassword:function(){return!this.getInfo("GetMiscInfo","3",0)?"":this.getInfo("GetEnInfo","Default",0)}}}();npedit=a.npedit=light.deriveFrom(a.base,members,npedit);npedit.defaults={};a.refreshStatus(a.npedit);npedit.installed&&(npedit.installed=a.edit.installed)}(alipay.security,light.client.storage);
light.has("/security/noedit")||function(a){members={ready:!0,render:function(a){light.isFunction(a)&&this._readyList.push(a);this.element=light.get(this.options.id);for(a=this._readyList;a.length;)a.shift().apply(this)},getPassword:function(){return this.element.value}};a.noedit=light.deriveFrom(a.base,members,{Name:"noedit"})}(alipay.security);light.has("/alipay/security/cdo")||function(d){var e=alipay.security.downloadServer,c=function(){var c=light.client.info;return{Name:"cert.cdo",defaultMethod:"Do",info:{activex:"AliCertDO.AliCertDOCtrl",plugin:"npalicdo plugin",classId:"08d512d2-7d97-4e22-b7db-82791106c086",type:"application/npalicdo",version:"1.0.0.1",codebase:e+"/ukey/cf/alicert.cab",downloadUrl:c.os.windows?e+"/ukey/cf/alicert.exe":e+"/sec/cert/alicert.dmg"},template:c.engine.trident?'<object id="{id}" type="{type}" classid="clsid:{classId}" codebase="{codebase}" width="0" height="0"></object>':
'<object id="{id}" type="{type}" width="0" height="0"></object>',message:{"0":"\u60a8\u9700\u8981\u91cd\u65b0\u5b89\u88c5\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6",1:"\u64cd\u4f5c\u7cfb\u7edf\u6216\u6d4f\u89c8\u5668\u4e0d\u652f\u6301",2:"\u63d2\u4ef6\u6ca1\u6709\u5b89\u88c5","5001-10000":"\u60a8\u7684\u8fd0\u884c\u73af\u5883\u914d\u7f6e\u4e0d\u6b63\u786e","10001-11000":"\u63a7\u4ef6\u8fd0\u884c\u9519\u8bef","11001-12000":"\u8c03\u7528\u53c2\u6570\u9519\u8bef"},available:!!(c.os.windows||c.os.macos&&6<
c.os.macos[1]),actions:{restore:"custom"},defaults:{msgMode:"dialog"},handlers:{12004:light.noop},updateQueryInterval:1E3,updateHandler:null,properties:{handlers:{}}}}(),c=d.cdo=light.deriveFrom(d.base,{execute:function(d,a){var b=null;if(d)if("object"===typeof d?(b=d.service,d=light.param(d)):b=light.unparam(d).service,b){light.log("Calling %s: %s.",b,d);var i="";try{i=this.element.Do(d)}catch(e){light.log("Exception thrown from %s: %s.",b,g.rawData);this.catchError(b,e);return}var g=i?light.unparam(i):
{};g.rawData=i||"";g.api=b;var f=g.status=parseInt(g.status,10);isNaN(f)&&(f=-1);light.log("Result from %s: (%d) %s.",b,f,i);if(f){var j=this;101<=f&&1E3>f?(!this.backupCmd&&"update"!=b&&(this.backupCmd={command:d,callback:a}),function(){c.updateHandler&&c.updateHandler.call(j,true,g.message);setTimeout(function(){j.execute(g.rawData)},c.updateQueryInterval)}()):(this.catchError(b,g,!0),g.msg=this.getMessage(f),(b=!f?null:this.handlers[f]||this.handlers["*"]||this.__type.handlers[f]||this.__type.handlers["*"])?
b.call(this,g):this.showMessage(g))}else this.backupCmd?(c.updateHandler&&c.updateHandler.call(this,!1),b=this.backupCmd,delete this.backupCmd,light.log("Call previous command, see next log."),this.execute(b.command,b.callback)):a&&a.call(this,g)}else{if(light.debug)throw"Invalid command passed";}else if(light.debug)throw"Empty command passed";},send:function(c,a,b){a=a||{};a.service=c;a.version=1;this.execute(a,b)}},c);d.refreshStatus(c)}(alipay.security);
light.has("/alipay/security/enroll")||function(d){var e=alipay.security.downloadServer,c=light.client.info,e={activex:"Itrusenroll.CertEnroll",plugin:"iTrusChina iTrusPTA,XEnroll,iEnroll,hwPTA,UKeyInstalls Firefox Plugin",classId:"7978461C-CC22-48F2-BC69-02220D3E101D",type:"application/Itrusenroll.CertEnroll.Version.1",version:"1.0.0.1",codebase:e+"/ukey/cert/1007/ie/PTA.cab",downloadUrl:e+"/ukey/cert/1007/ie/iTrusPTA.exe"},h=c.engine.trident?'<object id="{id}" type="{type}" classid="clsid:{classId}" codebase="{codebase}" width="0" height="0"></object>':
'<object id="{id}" type="{type}" width="0" height="0"></object>';availableObj={os:!!c.os.windows,browser:!!c.engine.trident||!!c.browser.firefox||!!c.browser.chrome};d.enroll=light.deriveFrom(d.base,{},{Name:"cert.enroll",defaultMethod:"Version",info:e,template:h,message:null,availableObj:availableObj,available:availableObj.os&&availableObj.browser});d.refreshStatus(d.enroll)}(alipay.security);
light.has("/alipay/security/pta")||function(d){var e=alipay.security.downloadServer,c=light.client.info,h=function(){var a={os:!!c.os.windows,browser:!(!c.engine.trident&&!c.browser.firefox&&!c.browser.chrome)};return{Name:"cert.pta",defaultMethod:"Version",info:{activex:"PTA.iTrusPTA",plugin:"iTrusChina iTrusPTA,XEnroll,iEnroll,hwPTA,UKeyInstalls Firefox Plugin",classId:"1e0dffcf-27ff-4574-849b-55007349feda",type:"application/PTA.iTrusPTA.Version.1",version:"1.0.0.1",codebase:e+"/ukey/cert/1007/ie/PTA.cab",
downloadUrl:c.engine.trident?e+"/ukey/cert/1007/ie/iTrusPTA.exe?t=20110907.exe":e+"/ukey/cert/1007/ff/iTrusPTA_f_c.exe?t=20110714.exe"},template:c.engine.trident?'<object id="{id}" type="{type}" classid="clsid:{classId}" codebase="{codebase}" width="0" height="0"></object>':'<object id="{id}" type="{type}" width="0" height="0"></object>',message:{"-2147483135":"\u7528\u6237\u53d6\u6d88\u64cd\u4f5c","-2146434962":"\u7528\u6237\u53d6\u6d88\u64cd\u4f5c"},handlers:{},availableObj:a,available:a.os&&a.browser,
properties:{handlers:{}}}}();d.pta=light.deriveFrom(d.base,{getCerts:function(a,b,c){if(!a&&!b&&!c)return null;try{var d=this.api("Filter");if(!d)return null;d.Clear();a&&(8<parseInt(a.substr(0,1),16)&&(a="00"+a),d.SerialNumber=a);b&&(d.Issuer=b);c&&(d.Subject=c);return this.api("MyCertificates")}catch(e){this.catchError("filter",e)}return null},getCert:function(a,b,c){a=this.getCerts(a,b,c);b=null;a&&a.Count&&(b=a(0));return b},getCertByBlurSearch:function(a,b,c,d){if(a=this.getCert(a,b)||this.getCert(a))return a;
if(!d)return null;certs=this.getCerts("",b);for(b=0;b<certs.Count;b++)if(-1!=certs(b).Subject.indexOf(d))return certs(b);return null},sign:function(a,b,c,d,e){if(!a)throw"invalid param";b=this.getCertByBlurSearch(b,c,d,e);if(!b)return"";try{return b.SignLogonData(a,4)}catch(f){(a=!f.number?null:this.handlers[f.number]||this.handlers["*"]||this.__type.handlers[f.number]||this.__type.handlers["*"])&&a.call(this,f),this.catchError("sign",f)}return""}},h);d.refreshStatus(d.pta)}(alipay.security);
light.has("/alipay/security/hwpta")||function(d){var e=alipay.security.downloadServer,c=light.client.info,h=function(){var a={activex:"HwPTA.iTrusHwPTA",classId:"EF7BC8AC-5BDC-4AED-AD63-A9B3AE7A768C",version:"1,1,0,14",codebase:e+"/ukey/hwPTA.cab",downloadUrl:e+"/ukey/cert/1007/ie/iTrusPTA.exe?t=20110907.exe",driverUrls:{}},b={os:!!c.os.windows,browser:!!c.engine.trident};a.driverUrls["Watchdata AliPay CSP v3.3"]=e+"/ukey/0818/hwWDkey.exe";a.driverUrls["EnterSafe ePass2001 for TWCX CSP v1.0"]=e+"/ukey/0818/hwEpass2001.exe";
a.driverUrls["HaiTai Cryptographic Service Provider"]=e+"/ukey/0818/hwHaikey.exe";return{Name:"ukey.pta",defaultMethod:"DetectKeys",info:a,template:'<object id="{id}" type="{type}" classid="clsid:{classId}" codebase="{codebase}" width="0" height="0"></object>',message:null,availableObj:b,available:b.os&&b.browser}}();d.hwpta=light.deriveFrom(d.base,{checkDriver:function(){try{return this.element.checkCSP(0)}catch(a){this.catchError("checkDriver",a)}return!1},getKeyNum:function(){try{return this.element.DetectKeys()}catch(a){this.catchError("getKeyNum",
a)}return 0},getDriverName:function(a){try{return this.element.GetKeyCSPName(a||0)}catch(b){this.catchError("getDriverName",b)}return""},getDriverUrl:function(){var a=h.info.driverUrls,b=this.getDriverName(),c;for(c in a)if(b==c)return a[c];return""},deleteCert:function(a,b){try{return this.element.deleteCertificateByUserID(a,b)}catch(c){this.catchError("deleteCert",c)}return!1},importAdminPIN:function(a,b){try{return this.element.importAdminPIN(a,b)}catch(c){this.catchError("importAdminPIN",c)}return 0},
exportTempPubkey:function(){try{return this.element.exportTempPubkey()}catch(a){this.catchError("exportTempPubkey",a)}return""}},h);d.refreshStatus(d.hwpta)}(alipay.security);light.has("/alipay/security/otp")||function(b){members={ready:!0,render:function(a){light.isFunction(a)&&this._readyList.push(a);this.element=light.get(this.options.id);for(a=this._readyList;a.length;)a.shift().apply(this)},getValue:function(){return{otpPassword:this.element.value}}};b.otp=light.deriveFrom(b.base,members,{Name:"otp"})}(alipay.security);light.has("/alipay/security/mobile")||function(b,k){try{window==window.parent&&b.client.storage.set("mobileSendTime",-1)}catch(i){}var a={Name:"mobile",defaults:{id:"",autoSend:!0,isBind:"",ajaxUrl:"",countdownBefore:null,countdownAfter:null,requestBefore:null,requestAfter:null}},d={sms:{className:".sms-btn",btnText:"\u91cd\u65b0\u83b7\u53d6\u77ed\u4fe1",interval:120,prompt_send:"\u6821\u9a8c\u7801\u5df2\u53d1\u9001\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732",
prompt_default:"\u6821\u9a8c\u7801\u662f6\u4f4d\u6570\u5b57\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732"},phone:{className:".phone-btn",btnText:"\u4f7f\u7528\u8bed\u97f3\u83b7\u53d6",interval:120,prompt_send:"\u652f\u4ed8\u5b9d\u5c06\u5411\u60a8\u7684\u624b\u673a\u62e8\u6253\u7535\u8bdd\u5e76\u64ad\u62a5\u6821\u9a8c\u7801\u3002<br />\u6765\u7535\u53f7\u7801\u4e3a\uff1a0571-26883721,\u8bf7\u7a0d\u5019...",prompt_default:"\u6821\u9a8c\u7801\u662f6\u4f4d\u6570\u5b57\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732"}};
a.properties={targets:[]};a=b.register("/alipay/security/mobile",window,b.deriveFrom(k.base,{ready:!0,render:function(c){b.isFunction(c)&&this._readyList.push(c);this.element=this.options.uniqElement;for(c=this._readyList;c.length;)c.shift().apply(this)},getValue:function(){return{mobileAckCode:this.element.value}},postInit:function(){var c=this,a=this.options;this.container=b.node(this.options.uniqElement).parent(".ui-form-item");this.itemExp=this.container.find(".ui-form-explain");b.each(d,function(b,
d){var g=c.container.find(d.className);g.length&&(g.type=b,!a.defaultType&&(a.defaultType=b),c.targets.push(g))});this.targets.length||b.log("No mode used.");a.autoSend&&this.request("sms");this.bind()},bind:function(){var c=this,a=this.options;this.options.autoSend||this.container.find(".send-btn").click(function(){b.node(this).addClass("fn-hide");c.container.find(".ui-form-field, .ui-form-explain").removeClass("fn-hide");c.request("sms")});this.container.find(".reSend-btn").click(function(d){d.cancel();
b.node(this).addClass("fn-hide");c.container.find(".sms-btn, .phone-btn").removeClass("fn-hide");c.sendSuccess(a.defaultType);c.countdown(a.defaultType)});b.each(this.targets,function(b,a){a.click(function(){c.send(a.type)})});b.ready(function(){b.node(".phone-btn").length&&(c.pop=new b.pop({targets:b.node(".phone-btn"),className:"ui-securitycore",width:400}))})},send:function(c){c=c||this.options.defaultType;this.countdown(c);this.request(c)},countdown:function(c){var b=this,a=b.options,c=c||a.defaultType,
f=d[c].interval;a.countdownBefore&&a.countdownBefore();(function(){0<f--?(b.toggleBtnUI(f),setTimeout(arguments.callee,1E3)):(b.updatePrompt(c,"prompt_default"),b.toggleBtnUI(f,!0),b.container.removeClass("ui-form-item-success"),a.countdownAfter&&a.countdownAfter())})()},toggleBtnUI:function(c,a){var h=this,f,g=a?"removeClass":"addClass";b.each(this.targets,function(b,j){f=a?d[j.type].btnText:"\uff08"+c+"\u79d2\u540e\uff09"+d[j.type].btnText;a||h.pop&&h.pop.hide();j[g]("ui-checkcode-messagecode-disabled-btn").attr("disabled",
!a).attr("value",f)})},updatePrompt:function(a,b){this.container.find(".ui-form-explain").html(d[a][b])},request:function(a){if(window!=window.parent){var e=(new Date).getTime(),h=Number(b.client.storage.get("mobileSendTime"));if(0>e-h){this.sendSuccess(a);return}}var f=this,g=this.options,e={},a=a||g.defaultType;g.requestBefore&&g.requestBefore();this.inputMobileNo&&(e.inputMobileNo=this.inputMobileNo);e.type=a;e.securityId=b.node(this.options.uniqElement).parent(".J-securitycoreMain").attr("data-request");
e.rnd=Math.random();e.validateProductName=this.options.productName;b.request(g.ajaxUrl,e,{method:"JSONP",success:function(e){if(e.info.sent){try{window!=window.parent?b.client.storage.set("mobileSendTime",(new Date).getTime()):b.client.storage.set("mobileSendTime",-1)}catch(h){}f.sendSuccess(a)}else f.showError(e.info);if(d[a].interval<=0)d[a].interval=120;var i=setInterval(function(){d[a].interval--;d[a].interval<=0&&clearInterval(i)},1E3);g.requestAfter&&f.options.requestAfter(e)}})},showError:function(a){this.itemExp.html(a.errorMessage);
this.container.removeClass("ui-form-item-success").addClass("ui-form-item-error")},sendSuccess:function(a){a=a||this.options.defaultType;this.container.removeClass("ui-form-item-error").addClass("ui-form-item-success");this.updatePrompt(a,"prompt_send")}},a))}(window.light,alipay.security);
light.has("/alipay/security/credibleMobile")||function(b){try{window==window.parent&&b.client.storage.set("credibleMobileSendTime",-1)}catch(k){}var i=function(){this.init.apply(this,arguments);this.bind()};i.prototype={_cg:{item:"ui-form-item",itemSuccess:"ui-form-item-success",itemError:"ui-form-item-error",itemExp:"ui-form-explain"},init:function(a){a=this.opt=a;a.dataId=a.id+(new Date).getTime()+Math.floor(1E3*Math.random());b.node("[id="+a.id+"]:not([data-id]):first").attr("data-id",a.dataId);
this.opt.uniqElement=b.node("[data-id="+a.dataId+"]:first")[0];this.element=this.opt.uniqElement;this.container=b.node(this.element).parent("."+this._cg.item);this.validateBtn=this.container.find(".validate-btn");this.itemExp=this.container.find("."+this._cg.itemExp);this.preExp=this.itemExp.html()||"";this.opt.mobile?(this.opt.mobile.origin="credible",this.opt.mobile.credibleValidate=!1,this.opt.mobile.credibleMobile=this):b.log("Mobile did not start.")},bind:function(){var a=this;this.validateBtn.click(function(){a.validateNum()});
b.node(this.element).focus(function(){a.showDefault()})},validateNum:function(){var a=this.element.value;0===a.replace(/[^\x00-\xff]/g,"**").length?this.showError({msg:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801\u3002"}):/\d{11}/.test(a)?this.request():this.showError({msg:"\u624b\u673a\u53f7\u7801\u6709\u8bef\u3002"})},request:function(){var a=this,d=b.trim(this.element.value),c={};if(window!=window.parent){var e=(new Date).getTime(),h=Number(b.client.storage.get("credibleMobileSendTime")),f=b.client.storage.get("credibleMobileNo");
if(d==f&&0>e-h){this.validateNumSuc({info:{validated:!0}});return}}c.inputMobileNo=d;c.securityId=b.node(this.opt.uniqElement).parent(".J-securitycoreMain").attr("data-request");c.validateProductName="ctu_mobile";b.request(this.opt.ajaxUrl,c,{method:"JSONP",success:function(c){if(c.info.validated)try{window!=window.parent?(b.client.storage.set("credibleMobileSendTime",(new Date).getTime()),b.client.storage.set("credibleMobileNo",d)):b.client.storage.set("credibleMobileSendTime",-1)}catch(e){}a.validateNumSuc(c)}})},
validateNumSuc:function(a){a.info.validated?(this.container.find(".ui-form-explain").addClass("fn-hide"),this.container.find(".ui-form-field").addClass("ui-form-text").html(this.element.value),this.container.addClass(this._cg.itemSuccess),b.node(".mobile-section .ui-form-item-counter").removeClass("fn-hide"),this.opt.mobile?(this.opt.mobile.credibleValidate=!0,this.opt.mobile.inputMobileNo=b.trim(this.element.value),this.opt.mobile.sendSuccess()):b.log("Mobile did not start.")):this.error(a)},error:function(a){var a=
a.info,b="";5<=a.errorCount&&this.validateBtn.addClass("ui-checkcode-messagecode-disabled-btn").attr("disabled",!0);b=b||a.errorMessage;this.showError({code:a.errorCode,msg:b})},showError:function(a){this.itemExp.html(a.msg);this.container.addClass(this._cg.itemError)},showDefault:function(){this.itemExp.html(this.preExp);this.container.removeClass(this._cg.itemError)}};b.register("/alipay/security/credibleMobile",window,i)}(window.light);light.has("/alipay/security/ctuMobile")||function(b,j){try{window==window.parent&&b.client.storage.set("ctuMobileSendTime",-1)}catch(k){}var h={Name:"ctuMobile",defaults:{id:"",autoSend:!0,isBind:"",ajaxUrl:"",countdownBefore:null,countdownAfter:null,requestBefore:null,requestAfter:null}},f={sms:{className:".sms-btn",btnText:"\u91cd\u65b0\u83b7\u53d6\u77ed\u4fe1",interval:120,prompt_send:"\u6821\u9a8c\u7801\u5df2\u53d1\u9001\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732",
prompt_default:"\u6821\u9a8c\u7801\u662f6\u4f4d\u6570\u5b57\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732"},phone:{className:".phone-btn",btnText:"\u4f7f\u7528\u8bed\u97f3\u83b7\u53d6",interval:120,prompt_send:"\u652f\u4ed8\u5b9d\u5c06\u5411\u60a8\u7684\u624b\u673a\u62e8\u6253\u7535\u8bdd\u5e76\u64ad\u62a5\u6821\u9a8c\u7801\u3002<br />\u6765\u7535\u53f7\u7801\u4e3a\uff1a0571-26883721,\u8bf7\u7a0d\u5019...",prompt_default:"\u6821\u9a8c\u7801\u662f6\u4f4d\u6570\u5b57\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732"}};
h.properties={targets:[]};h=b.register("/alipay/security/ctuMobile",window,b.deriveFrom(j.base,{ready:!0,render:function(a){b.isFunction(a)&&this._readyList.push(a);this.element=this.options.uniqElement;for(a=this._readyList;a.length;)a.shift().apply(this)},getValue:function(){return{mobileAckCode:this.element.value}},postInit:function(){var a=this,c=this.options;this.container=b.node(this.options.uniqElement).parent(".ui-form-item");this.itemExp=this.container.find(".ui-form-explain");b.each(f,function(b,
d){var e=a.container.find(d.className);e.length&&(e.type=b,!c.defaultType&&(c.defaultType=b),a.targets.push(e))});this.targets.length||b.log("No mode used.");c.autoSend&&this.request("sms");this.bind()},bind:function(){var a=this,c=this.options;this.options.autoSend||this.container.find(".send-btn").click(function(){b.node(this).addClass("fn-hide");a.container.find(".ui-form-field, .ui-form-explain").removeClass("fn-hide");a.request("sms")});this.container.find(".reSend-btn").click(function(g){g.cancel();
b.node(this).addClass("fn-hide");a.container.find(".sms-btn, .phone-btn").removeClass("fn-hide");a.sendSuccess(c.defaultType);a.countdown(c.defaultType)});b.each(this.targets,function(c,b){b.click(function(){a.send(b.type)})});b.ready(function(){b.node(".phone-btn").length&&(a.pop=new b.pop({targets:b.node(".phone-btn"),className:"ui-securitycore",width:400}))})},send:function(a){a=a||this.options.defaultType;this.countdown(a);this.request(a)},countdown:function(a){var c=this,b=c.options,a=a||b.defaultType,
d=f[a].interval;b.countdownBefore&&b.countdownBefore();(function(){0<d--?(c.toggleBtnUI(d),setTimeout(arguments.callee,1E3)):(c.updatePrompt(a,"prompt_default"),c.toggleBtnUI(d,!0),c.container.removeClass("ui-form-item-success"),b.countdownAfter&&b.countdownAfter())})()},toggleBtnUI:function(a,c){var g=this,d,e=c?"removeClass":"addClass";b.each(this.targets,function(b,i){d=c?f[i.type].btnText:"\uff08"+a+"\u79d2\u540e\uff09"+f[i.type].btnText;c||g.pop&&g.pop.hide();i[e]("ui-checkcode-messagecode-disabled-btn").attr("disabled",
!c).attr("value",d)})},updatePrompt:function(a,b){this.container.find(".ui-form-explain").html(f[a][b])},request:function(a){if(window!=window.parent){var c=(new Date).getTime(),g=Number(b.client.storage.get("ctuMobileSendTime"));if(0>c-g){this.sendSuccess(a);return}}var d=this,e=this.options,c={},a=a||e.defaultType;e.requestBefore&&e.requestBefore();this.inputMobileNo&&(c.inputMobileNo=this.inputMobileNo);c.type=a;c.securityId=b.node(this.options.uniqElement).parent(".J-securitycoreMain").attr("data-request");
c.rnd=Math.random();c.validateProductName="ctu_mobile";b.request(e.ajaxUrl,c,{method:"JSONP",success:function(c){if(c.info.sent){try{window!=window.parent?b.client.storage.set("ctuMobileSendTime",(new Date).getTime()):b.client.storage.set("ctuMobileSendTime",-1)}catch(g){}d.sendSuccess(a)}else d.showError(c.info);if(f[a].interval<=0)f[a].interval=120;var h=setInterval(function(){f[a].interval--;f[a].interval<=0&&clearInterval(h)},1E3);e.requestAfter&&d.options.requestAfter(c)}})},showError:function(a){this.itemExp.html(a.errorMessage);
this.container.removeClass("ui-form-item-success").addClass("ui-form-item-error")},sendSuccess:function(a){a=a||this.options.defaultType;this.container.removeClass("ui-form-item-error").addClass("ui-form-item-success");this.updatePrompt(a,"prompt_send")}},h))}(window.light,alipay.security);light.has("/alipay/security/riskMobileBank")||function(b,j){try{window==window.parent&&b.client.storage.set("riskMobileBankSendTime",-1)}catch(k){}var h={Name:"riskMobileBank",defaults:{id:"",autoSend:!0,isBind:"",ajaxUrl:"",countdownBefore:null,countdownAfter:null,requestBefore:null,requestAfter:null}},g={sms:{className:".sms-btn",btnText:"\u91cd\u65b0\u83b7\u53d6\u77ed\u4fe1",interval:120,prompt_send:"\u6821\u9a8c\u7801\u5df2\u53d1\u9001\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732",
prompt_default:"\u6821\u9a8c\u7801\u662f6\u4f4d\u6570\u5b57\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732"},phone:{className:".phone-btn",btnText:"\u4f7f\u7528\u8bed\u97f3\u83b7\u53d6",interval:120,prompt_send:"\u652f\u4ed8\u5b9d\u5c06\u5411\u60a8\u7684\u624b\u673a\u62e8\u6253\u7535\u8bdd\u5e76\u64ad\u62a5\u6821\u9a8c\u7801\u3002<br />\u6765\u7535\u53f7\u7801\u4e3a\uff1a0571-26883721,\u8bf7\u7a0d\u5019...",prompt_default:"\u6821\u9a8c\u7801\u662f6\u4f4d\u6570\u5b57\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732"}};
h.properties={targets:[]};h=b.register("/alipay/security/riskMobileBank",window,b.deriveFrom(j.base,{ready:!0,render:function(a){b.isFunction(a)&&this._readyList.push(a);this.element=this.options.uniqElement;for(a=this._readyList;a.length;)a.shift().apply(this)},getValue:function(){return{mobileAckCode:this.element.value}},postInit:function(){var a=this,c=this.options;this.container=b.node(this.options.uniqElement).parent(".ui-form-item");this.itemExp=this.container.find(".ui-form-explain");b.each(g,
function(b,d){var e=a.container.find(d.className);e.length&&(e.type=b,!c.defaultType&&(c.defaultType=b),a.targets.push(e))});this.targets.length||b.log("No mode used.");c.autoSend&&this.request("sms");this.bind()},bind:function(){var a=this,c=this.options;this.options.autoSend||this.container.find(".send-btn").click(function(){b.node(this).addClass("fn-hide");a.container.find(".ui-form-field, .ui-form-explain").removeClass("fn-hide");a.request("sms")});this.container.find(".reSend-btn").click(function(f){f.cancel();
b.node(this).addClass("fn-hide");a.container.find(".sms-btn, .phone-btn").removeClass("fn-hide");a.sendSuccess(c.defaultType);a.countdown(c.defaultType)});b.each(this.targets,function(c,b){b.click(function(){a.send(b.type)})});b.ready(function(){b.node(".phone-btn").length&&(a.pop=new b.pop({targets:b.node(".phone-btn"),className:"ui-securitycore",width:400}))})},send:function(a){a=a||this.options.defaultType;this.countdown(a);this.request(a)},countdown:function(a){var c=this,b=c.options,a=a||b.defaultType,
d=g[a].interval;b.countdownBefore&&b.countdownBefore();(function(){0<d--?(c.toggleBtnUI(d),setTimeout(arguments.callee,1E3)):(c.updatePrompt(a,"prompt_default"),c.toggleBtnUI(d,!0),c.container.removeClass("ui-form-item-success"),b.countdownAfter&&b.countdownAfter())})()},toggleBtnUI:function(a,c){var f=this,d,e=c?"removeClass":"addClass";b.each(this.targets,function(b,i){d=c?g[i.type].btnText:"\uff08"+a+"\u79d2\u540e\uff09"+g[i.type].btnText;c||f.pop&&f.pop.hide();i[e]("ui-checkcode-messagecode-disabled-btn").attr("disabled",
!c).attr("value",d)})},updatePrompt:function(a,b){this.container.find(".ui-form-explain").html(g[a][b])},request:function(a){if(window!=window.parent){var c=(new Date).getTime(),f=Number(b.client.storage.get("riskMobileBankSendTime"));if(0>c-f){this.sendSuccess(a);return}}var d=this,e=this.options,c={},a=a||e.defaultType;e.requestBefore&&e.requestBefore();this.inputMobileNo&&(c.inputMobileNo=this.inputMobileNo);c.type=a;c.securityId=b.node(this.options.uniqElement).parent(".J-securitycoreMain").attr("data-request");
c.rnd=Math.random();c.validateProductName="risk_mobile_bank";b.request(e.ajaxUrl,c,{method:"JSONP",success:function(c){if(c.info.sent){try{window!=window.parent?b.client.storage.set("riskMobileBankSendTime",(new Date).getTime()):b.client.storage.set("riskMobileBankSendTime",-1)}catch(f){}d.sendSuccess(a)}else d.showError(c.info);e.requestAfter&&d.options.requestAfter(c)}})},showError:function(a){this.itemExp.html(a.errorMessage);this.container.removeClass("ui-form-item-success").addClass("ui-form-item-error")},
sendSuccess:function(a){a=a||this.options.defaultType;this.container.removeClass("ui-form-item-error").addClass("ui-form-item-success");this.updatePrompt(a,"prompt_send")}},h))}(window.light,alipay.security);light.has("/alipay/security/riskMobileAccount")||function(b,j){try{window==window.parent&&b.client.storage.set("riskMobileAccoutSendTime",-1)}catch(k){}var h={Name:"riskMobileAccount",defaults:{id:"",autoSend:!0,isBind:"",ajaxUrl:"",countdownBefore:null,countdownAfter:null,requestBefore:null,requestAfter:null}},g={sms:{className:".sms-btn",btnText:"\u91cd\u65b0\u83b7\u53d6\u77ed\u4fe1",interval:120,prompt_send:"\u6821\u9a8c\u7801\u5df2\u53d1\u9001\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732",
prompt_default:"\u6821\u9a8c\u7801\u662f6\u4f4d\u6570\u5b57\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732"},phone:{className:".phone-btn",btnText:"\u4f7f\u7528\u8bed\u97f3\u83b7\u53d6",interval:120,prompt_send:"\u652f\u4ed8\u5b9d\u5c06\u5411\u60a8\u7684\u624b\u673a\u62e8\u6253\u7535\u8bdd\u5e76\u64ad\u62a5\u6821\u9a8c\u7801\u3002<br />\u6765\u7535\u53f7\u7801\u4e3a\uff1a0571-26883721,\u8bf7\u7a0d\u5019...",prompt_default:"\u6821\u9a8c\u7801\u662f6\u4f4d\u6570\u5b57\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732"}};
h.properties={targets:[]};h=b.register("/alipay/security/riskMobileAccount",window,b.deriveFrom(j.base,{ready:!0,render:function(a){b.isFunction(a)&&this._readyList.push(a);this.element=this.options.uniqElement;for(a=this._readyList;a.length;)a.shift().apply(this)},getValue:function(){return{mobileAckCode:this.element.value}},postInit:function(){var a=this,c=this.options;this.container=b.node(this.options.uniqElement).parent(".ui-form-item");this.itemExp=this.container.find(".ui-form-explain");b.each(g,
function(b,d){var e=a.container.find(d.className);e.length&&(e.type=b,!c.defaultType&&(c.defaultType=b),a.targets.push(e))});this.targets.length||b.log("No mode used.");c.autoSend&&this.request("sms");this.bind()},bind:function(){var a=this,c=this.options;this.options.autoSend||this.container.find(".send-btn").click(function(){b.node(this).addClass("fn-hide");a.container.find(".ui-form-field, .ui-form-explain").removeClass("fn-hide");a.request("sms")});this.container.find(".reSend-btn").click(function(f){f.cancel();
b.node(this).addClass("fn-hide");a.container.find(".sms-btn, .phone-btn").removeClass("fn-hide");a.sendSuccess(c.defaultType);a.countdown(c.defaultType)});b.each(this.targets,function(c,b){b.click(function(){a.send(b.type)})});b.ready(function(){b.node(".phone-btn").length&&(a.pop=new b.pop({targets:b.node(".phone-btn"),className:"ui-securitycore",width:400}))})},send:function(a){a=a||this.options.defaultType;this.countdown(a);this.request(a)},countdown:function(a){var c=this,b=c.options,a=a||b.defaultType,
d=g[a].interval;b.countdownBefore&&b.countdownBefore();(function(){0<d--?(c.toggleBtnUI(d),setTimeout(arguments.callee,1E3)):(c.updatePrompt(a,"prompt_default"),c.toggleBtnUI(d,!0),c.container.removeClass("ui-form-item-success"),b.countdownAfter&&b.countdownAfter())})()},toggleBtnUI:function(a,c){var f=this,d,e=c?"removeClass":"addClass";b.each(this.targets,function(b,i){d=c?g[i.type].btnText:"\uff08"+a+"\u79d2\u540e\uff09"+g[i.type].btnText;c||f.pop&&f.pop.hide();i[e]("ui-checkcode-messagecode-disabled-btn").attr("disabled",
!c).attr("value",d)})},updatePrompt:function(a,b){this.container.find(".ui-form-explain").html(g[a][b])},request:function(a){if(window!=window.parent){var c=(new Date).getTime(),f=Number(b.client.storage.get("riskMobileAccoutSendTime"));if(0>c-f){this.sendSuccess(a);return}}var d=this,e=this.options,c={},a=a||e.defaultType;e.requestBefore&&e.requestBefore();this.inputMobileNo&&(c.inputMobileNo=this.inputMobileNo);c.type=a;c.securityId=b.node(this.options.uniqElement).parent(".J-securitycoreMain").attr("data-request");
c.rnd=Math.random();c.validateProductName="risk_mobile_account";b.request(e.ajaxUrl,c,{method:"JSONP",success:function(c){if(c.info.sent){try{window!=window.parent?b.client.storage.set("riskMobileAccoutSendTime",(new Date).getTime()):b.client.storage.set("riskMobileAccoutSendTime",-1)}catch(f){}d.sendSuccess(a)}else d.showError(c.info);e.requestAfter&&d.options.requestAfter(c)}})},showError:function(a){this.itemExp.html(a.errorMessage);this.container.removeClass("ui-form-item-success").addClass("ui-form-item-error")},
sendSuccess:function(a){a=a||this.options.defaultType;this.container.removeClass("ui-form-item-error").addClass("ui-form-item-success");this.updatePrompt(a,"prompt_send")}},h))}(window.light,alipay.security);light.has("/alipay/security/riskMobileCredit")||function(b,k){try{window==window.parent&&b.client.storage.set("riskMobileCreditSendTime",-1)}catch(i){}var a={Name:"riskMobileCredit",defaults:{id:"",autoSend:!0,isBind:"",ajaxUrl:"",countdownBefore:null,countdownAfter:null,requestBefore:null,requestAfter:null}},h={sms:{className:".sms-btn",btnText:"\u91cd\u65b0\u83b7\u53d6\u77ed\u4fe1",interval:120,prompt_send:"\u6821\u9a8c\u7801\u5df2\u53d1\u9001\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732",
prompt_default:"\u6821\u9a8c\u7801\u662f6\u4f4d\u6570\u5b57\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732"},phone:{className:".phone-btn",btnText:"\u4f7f\u7528\u8bed\u97f3\u83b7\u53d6",interval:120,prompt_send:"\u652f\u4ed8\u5b9d\u5c06\u5411\u60a8\u7684\u624b\u673a\u62e8\u6253\u7535\u8bdd\u5e76\u64ad\u62a5\u6821\u9a8c\u7801\u3002<br />\u6765\u7535\u53f7\u7801\u4e3a\uff1a0571-26883721,\u8bf7\u7a0d\u5019...",prompt_default:"\u6821\u9a8c\u7801\u662f6\u4f4d\u6570\u5b57\uff0c30\u5206\u949f\u5185\u8f93\u5165\u6709\u6548\uff0c\u8bf7\u52ff\u6cc4\u9732"}};
a.properties={targets:[],count:!0};a=b.register("/alipay/security/riskMobileCredit",window,b.deriveFrom(k.base,{ready:!0,render:function(c){b.isFunction(c)&&this._readyList.push(c);this.element=this.options.uniqElement;for(c=this._readyList;c.length;)c.shift().apply(this)},getValue:function(){return{mobileAckCode:this.element.value}},postInit:function(){var c=this,a=this.options;this.container=b.node(this.options.uniqElement).parent(".ui-form-item");this.itemExp=this.container.find(".ui-form-explain");
b.each(h,function(b,f){var g=c.container.find(f.className);g.length&&(g.type=b,!a.defaultType&&(a.defaultType=b),c.targets.push(g))});this.targets.length||b.log("No mode used.");a.autoSend&&this.request("sms");this.bind()},bind:function(){var c=this,a=this.options;this.options.autoSend||this.container.find(".send-btn").click(function(){b.node(this).addClass("fn-hide");c.container.find(".ui-form-field, .ui-form-explain").removeClass("fn-hide");c.request("sms")});this.container.find(".reSend-btn").click(function(e){e.cancel();
b.node(this).addClass("fn-hide");c.container.find(".sms-btn, .phone-btn").removeClass("fn-hide");c.sendSuccess(a.defaultType);c.countdown(a.defaultType)});b.each(this.targets,function(a,b){b.click(function(){c.send(b.type)})});b.ready(function(){b.node(".phone-btn").length&&(c.pop=new b.pop({targets:b.node(".phone-btn"),className:"ui-securitycore",width:400}))})},send:function(a){a=a||this.options.defaultType;this.countdown(a);this.request(a)},countdown:function(a){var b=this,e=b.options,a=a||e.defaultType,
f=h[a].interval;e.countdownBefore&&e.countdownBefore();(function(){0<f--&&b.riskCredibleMobile.expand?(b.toggleBtnUI(f),setTimeout(arguments.callee,1E3)):(b.updatePrompt(a,"prompt_default"),b.toggleBtnUI(f,!0),b.container.removeClass("ui-form-item-success"),e.countdownAfter&&e.countdownAfter())})()},toggleBtnUI:function(a,d){var e=this,f,g=d?"removeClass":"addClass";b.each(this.targets,function(b,j){f=d?h[j.type].btnText:"\uff08"+a+"\u79d2\u540e\uff09"+h[j.type].btnText;d||e.pop&&e.pop.hide();j[g]("ui-checkcode-messagecode-disabled-btn").attr("disabled",
!d).attr("value",f)})},updatePrompt:function(a,b){this.container.find(".ui-form-explain").html(h[a][b])},request:function(a){if(window!=window.parent){var d=(new Date).getTime(),e=Number(b.client.storage.get("riskMobileCreditSendTime"));if(0>d-e){this.sendSuccess(a);return}}var f=this,g=this.options,d={},a=a||g.defaultType;g.requestBefore&&g.requestBefore();this.inputMobileNo&&(d.inputMobileNo=this.inputMobileNo);d.type=a;d.securityId=b.node(this.options.uniqElement).parent(".J-securitycoreMain").attr("data-request");
d.rnd=Math.random();d.creditMobileIndex=this.riskCredibleMobile.element.value;d.validateProductName="risk_mobile_credit";b.request(g.ajaxUrl,d,{method:"JSONP",success:function(d){if(d.info.sent){try{window!=window.parent?b.client.storage.set("riskMobileCreditSendTime",(new Date).getTime()):b.client.storage.set("riskMobileCreditSendTime",-1)}catch(e){}f.sendSuccess(a)}else f.showError(d.info);g.requestAfter&&f.options.requestAfter(d)}})},showError:function(a){this.itemExp.html(a.errorMessage);this.container.removeClass("ui-form-item-success").addClass("ui-form-item-error")},
sendSuccess:function(a){a=a||this.options.defaultType;this.container.removeClass("ui-form-item-error").addClass("ui-form-item-success");this.updatePrompt(a,"prompt_send")}},a))}(window.light,alipay.security);
light.has("/alipay/security/riskCredibleMobile")||function(b){try{window==window.parent&&b.client.storage.set("riskCredibleMobileSendTime",-1)}catch(k){}var i=function(){this.init.apply(this,arguments);this.bind()};i.prototype={_cg:{item:"ui-form-item",itemSuccess:"ui-form-item-success",itemError:"ui-form-item-error",itemExp:"ui-form-explain"},init:function(a){a=this.opt=a;a.dataId=a.id+(new Date).getTime()+Math.floor(1E3*Math.random());b.node("[id="+a.id+"]:not([data-id]):first").attr("data-id",
a.dataId);this.opt.uniqElement=b.node("[data-id="+a.dataId+"]:first")[0];this.element=this.opt.uniqElement;this.container=b.node(this.element).parent("."+this._cg.item);this.counter=this.container.next(".ui-form-item-counter");this.validateBtn=this.container.find(".validate-btn");this.itemExp=this.container.find("."+this._cg.itemExp);this.preExp=this.itemExp.html()||"";this.expand=!1;this.opt.mobile?(this.opt.mobile.origin="credible",this.opt.mobile.credibleValidate=!1,this.opt.mobile.riskCredibleMobile=
this):b.log("Mobile did not start.")},bind:function(){var a=this;this.validateBtn.click(function(){a.validateBtn.hide();a.validateNum();a.counter.removeClass("fn-hide").removeClass(a._cg.itemError).addClass(a._cg.itemSuccess);a.counter.find("."+a._cg.itemExp).html(a.counter.find("input").attr("data-explain"));a.expand=!0});b.node(this.element).change(function(){a.validateBtn.show();a.counter.addClass("fn-hide");a.counter.find(".reSend-btn").removeClass("fn-hide");a.counter.find(".sms-btn").addClass("fn-hide");
a.expand=!1});b.node(this.element).focus(function(){a.showDefault()})},validateNum:function(){0===this.element.value.replace(/[^\x00-\xff]/g,"**").length?this.showError({msg:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801\u3002"}):this.request()},request:function(){var a=this,h=b.trim(this.element.value),c={};if(window!=window.parent){var d=(new Date).getTime(),e=Number(b.client.storage.get("riskCredibleMobileSendTime")),f=b.client.storage.get("riskCredibleMobileNo");if(h==f&&0>d-e)return}c.creditMobileIndex=
h;c.validateProductName="risk_mobile_credit";c.securityId=b.node(this.opt.uniqElement).parent(".J-securitycoreMain").attr("data-request");b.request(this.opt.ajaxUrl,c,{method:"JSONP",success:function(c){if(c.info.sent)try{window!=window.parent?(b.client.storage.set("riskCredibleMobileSendTime",(new Date).getTime()),b.client.storage.set("riskCredibleMobileNo",h)):b.client.storage.set("riskCredibleMobileSendTime",-1)}catch(d){}else a.showError(c.info)}})},validateNumSuc:function(){},error:function(a){var a=
a.info,b="";5<=a.errorCount&&this.validateBtn.addClass("ui-checkcode-messagecode-disabled-btn").attr("disabled",!0);b=b||a.errorMessage;this.showError({code:a.errorCode,msg:b})},showError:function(a){a.msg=a.msg||a.errorMessage;a.msg&&(this.itemExp.html(a.msg),this.counter.find("."+this._cg.itemExp).html(a.msg),this.counter.addClass(this._cg.itemError).removeClass(this._cg.itemSuccess))},showDefault:function(){this.itemExp.html(this.preExp);this.container.removeClass(this._cg.itemError)}};b.register("/alipay/security/riskCredibleMobile",
window,i)}(window.light);light.has("/alipay/security/riskCertificate")||function(b){members={ready:!0,render:function(a){light.isFunction(a)&&this._readyList.push(a);this.element=light.get(this.options.id);for(a=this._readyList;a.length;)a.shift().apply(this)},getValue:function(){return{inputCertificateNo:this.element.value}}};b.riskCertificate=light.deriveFrom(b.base,members,{Name:"riskCertificate"})}(alipay.security);
light.has("/alipay/security/riskSecurityQa")||function(b){members={ready:!0,render:function(a){light.isFunction(a)&&this._readyList.push(a);this.element=light.get(this.options.id);for(a=this._readyList;a.length;)a.shift().apply(this)},getValue:function(){return{securityAnswer:this.element.value}}};b.riskSecurityQa=light.deriveFrom(b.base,members,{Name:"riskSecurityQa"})}(alipay.security);
light.has("/alipay/security/riskExpressPrivacy")||function(a){members={render:function(b){light.isFunction(b)&&this._readyList.push(b);this.element=light.get(this.options.id);for(b=this._readyList;b.length;)b.shift().apply(this)},queryValue:function(b){var c=this.element=light.get(this.options.id),a=c.value.replace(/\D/g,""),d=light.node(c),c=d.attr("data-cardtype"),d=d.attr("data-server")+"/validateAndCacheCardInfo.json";"debit"==c?b({bankCardDebitNo:a}):"credit"==c&&light.request(d,{cardNo:a,cardBinCheck:!0,
doUpdate:!1},{format:"jsonp",success:function(a){a&&a.validated?b({bankCardCreditUUID:a.key}):b({message:"\u5361\u53f7\u6821\u9a8c\u4e0d\u901a\u8fc7"})}})}};a.riskExpressPrivacy=light.deriveFrom(a.base,members,{Name:"riskExpressPrivacy"})}(alipay.security);
light.has("/alipay/security/checkCode")||function(b){b.checkCode=light.deriveFrom(b.base,{ready:!0,render:function(a){light.isFunction(a)&&this._readyList.push(a);this.element=light.get(this.options.id);for(a=this._readyList;a.length;)a.shift().apply(this)},getValue:function(){return{check_code:this.element.value}}},{Name:"checkCode"})}(alipay.security);(function(b){b.rds=light.deriveFrom(b.base,{ready:!0,render:function(a){light.isFunction(a)&&this._readyList.push(a);for(a=this._readyList;a.length;)a.shift().apply(this)},getValue:function(){return{rdsUaValue:window.json_ua?window.json_ua:"",rdsTokenValue:window.form_tk?window.form_tk:""}}},{Name:"rds"})})(alipay.security);
light.has("/alipay/security/page")||function(e,c,b){b.page={};b.page.processCertLink=function(a){if(a.length)try{if(window.frameElement)a.attr("data-href")&&a.attr("href",a.attr("data-href")),a.attr("target","_blank");else{i=0;for(l=a.length;i<l;i++){var f=a[i];if(!/isNewCtrl/.test(f.href)){var d=/\?(.*)/.test(f.href)?"&":"?";f.href=b.cdo.installed?f.href+(d+"isNewCtrl=true"):f.href+(d+"isNewCtrl=false")}e.page.ui.dialog({type:"page",trigger:f,width:612,content:f.href,autoShow:!1})}}}catch(g){a.attr("data-href")&&
a.attr("href",a.attr("data-href")),a.attr("target","_blank")}}}(window.light,light.node,alipay.security);
light.has("/alipay/security/core")||function(e,c,b){var a=function(){var f={form:null,loadingClass:"ui-form-status",validateUrl:"",reCheckUrl:"",beforeAjaxValidate:light.noop,afterAjaxValidate:light.noop,block:light.noop,reCheckSuccess:light.noop,stopSubmit:!1,validatedSuccess:null,beforeSubmit:null};if(e!=e.top&&"true"!=light.client.storage.get("overLimit"))try{light.client.storage.set("overLimit","false"),light.client.storage.set("blockReason","")}catch(d){}var g={bind:function(){e!=e.top&&"true"==
light.client.storage.get("overLimit")&&this.overLimit(light.client.storage.get("blockReason"));light.on(document,"click keyup",function(a){var d=0;27==a.which?d=1:a.target&&a.target.className&&-1!==a.target.className.indexOf("xbox-close-link")&&(d=1,a.cancel());d&&light.page.ui.closeDialog()});var a=function(a){a=light.node(a);a.val()||a.val(a.attr("placeholder")).addClass("ui-form-item-placeholder")};light.node(".J-securitycoreMain [placeholder]").each(function(){a(light.node(this))}).click(function(){var a=
light.node(this);a.val()==a.attr("placeholder")&&a.val("");a.removeClass("ui-form-item-placeholder")}).blur(function(){a(light.node(this))})},execute:function(){if(this.requestContext.stoped){var a=this,d=this.scProducts,f=light.node(".J-securitycoreMain",this.form).attr("data-status");d.length&&!this.inited&&b.core.init.call(this,this.options);this.requestContext.stoped=!1;this._q.clear();light.each(this._products,function(d,b){a._q.add(function(d){b.execute(d,a.requestContext)})});this._q.add(function(b){d.length?
a.ajaxValidate(b,a.requestContext.params):"true"!=f&&b()});this._q.add(function(){a.formSuccess()});this._q.invoke();this.requestContext.stoped=!0}},ajaxValidate:function(a,d){if(this.validated)a();else{light.log("Begin ajax validat.");this.showLoadingBar();this.options.beforeAjaxValidate();var b=this;light.packetRequest(this.options.validateUrl,{securityId:light.node(".J-securitycoreMain",this.form).attr("data-request")},d,{success:function(d){b.ajaxValidateSucc(a,d)},abort:function(a){b.ajaxValidateFail(a)}})}},
overLimit:function(a){for(var d=a.split(","),b=0,f=d.length;b<f;b++)if("risk_validate_over_limit_times"==d[b]){var g=light.node(".J-securitycoreMain"),c=light.node("#blockReason");g.children().hide();c.appendTo(g);if(g.parent("form").length){var e=g.parent("form");e.children().hide();e[0].insertBefore(g[0],e[0].firstChild);g.show()}g[0].insertBefore(c[0],g[0].firstChild);c.show();g.show();light.node(".loading-text").hide();try{light.client.storage.set("overLimit","true"),light.client.storage.set("blockReason",
a)}catch(q){}}},updateRdsToken:function(a){a&&a.info&&a.info.rdsToken&&(window.form_tk=a.info.rdsToken,UA_Opt.setToken(window.form_tk),UA_Opt.reload())},ajaxValidateSucc:function(d,b){var f=b.info,g=!0,c=null;if(b.blockReason)this.overLimit(b.blockReason);else{try{light.client.storage.set("overLimit","false"),light.client.storage.set("overLimitObj","")}catch(e){}if(f.product&&f.product.length){for(var m=0,q=f.product.length;m<q;m++){var j=f.product[m],o=a.ajaxParams[j.name];0<="ukey,thirdkey,cert".indexOf(o)&&
!j.validated?c=j:"checkCode"==o?this._products[o].afterValidate(j.validated,j.message):this._products[o].afterValidate(j.validated,j.message,j.validated);!j.validated&&(g=j.validated);light.log("%s validate %s",o,j.validated)}c&&this._products[c.name].afterValidate(c.validated,c.message,c.validated);g?(this.validated=!0,d()):this.stopSubmit(b)}else f.exception&&this.ajaxValidateFail(f.exception);this.validated&&this.options.validatedSuccess&&this.options.validatedSuccess()}this.updateRdsToken(b)},
ajaxValidateFail:function(a){this.stopSubmit();this._products.edit?this._products.edit.afterValidate(!1,a):alert(a)},stopSubmit:function(a){this.requestContext.stoped=!0;this.hideLoadingBar();this.options.afterAjaxValidate(a)},showLoadingBar:function(){this.loading&&this.loading.removeClass("fn-hide")},hideLoadingBar:function(){this.loading&&this.loading.addClass("fn-hide")},formSuccess:function(){this.options.beforeSubmit&&this.options.beforeSubmit();this.options.stopSubmit||this.options.form.submit()},
getStatus:function(){return window.um&&window.um.getStatus()}};return{init:function(d){if(!(this instanceof a.init))return new a.init(d);light.extend(this,g);this.inited=!1;this._products={};this.requestContext={stoped:!0,params:{}};this._q=new light.queue;this.validated=!1;var c=this;this.options=d=light.extend({},f,d);this.form=d.form;var e=light.node(".J-securitycoreMain",this.form),r=e.attr("data-status"),e=e.attr("data-server");d.reCheckUrl=d.reCheckUrl?d.reCheckUrl:e+"/securityAjaxCertRecheck.json";
d.validateUrl=d.validateUrl?d.validateUrl:e+"/securityAjaxValidate.json";this.loading=light.node("."+d.loadingClass,d.form);this.scProducts=light.page.scProducts;if("true"==r)return b.core.block(d.reCheckUrl,d.reCheckSuccess),d.block(),this;light.each(this.scProducts,function(d,b){var f=a.prodConfig[b.__type.Name],g=this.options?this.options[f]:null;if(!g||!g.skipChecking)c._products[f]=a.base.create(a[f],b,g)});b.core.visualTip();g.bind();light.page.scProducts=[];this.inited=!0;return this}}}();
light.register("alipay/security/core",e,a)}(window,light.page.ui.dialog,alipay.security);
(function(e,c,b){b.prodConfig={"control.edit":"edit","control.npedit":"edit",noedit:"edit",mobile:"mobile",ctuMobile:"ctuMobile",otp:"otp",cert:"cert",ukey:"ukey",thirdkey:"thirdkey",riskMobileBank:"riskMobileBank",riskMobileAccount:"riskMobileAccount",riskMobileCredit:"riskMobileCredit",riskCertificate:"riskCertificate",riskSecurityQa:"riskSecurityQa",riskExpressPrivacy:"riskExpressPrivacy",checkCode:"checkCode",rds:"rds"};b.ajaxParams={cert:"cert",ukey:"ukey",thirdkey:"thirdkey",payment_password:"edit",
query_password:"edit",otp:"otp",mobileotp:"otp",ctu_mobile:"ctuMobile",mobile_replace:"mobile",mobile_free:"mobile",mobile_pay:"mobile",mobile_bank:"mobile",mobile_special_bank:"mobile",risk_mobile_bank:"riskMobileBank",risk_mobile_account:"riskMobileAccount",risk_mobile_credit:"riskMobileCredit",risk_certificate:"riskCertificate",risk_security_qa:"riskSecurityQa",risk_express_privacy:"riskExpressPrivacy",check_code:"checkCode",rds:"rds"}})(window,light.page.ui.dialog,alipay.security.core);
light.has("/alipay/security/core/recheck")||function(e,c,b){b.core.certCheck=function(a,f){var d=a.data,g="",c=function(){b.create(b.pta).render(function(){for(var a=d.attr("data-sn").split("&"),b=0,c=a.length;b<c;b++)if(g=this.sign(d.attr("data-random"),a[b],d.attr("data-issuer"))){f({signedData:g});return}f({signedData:""})})},h=function(){b.create(b.pta).render(function(){(g=this.sign(d.attr("data-random"),d.attr("data-sn"),d.attr("data-issuer"),"",d.attr("data-subject")))?f({signedData:g}):f()})},
n=function(){b.cdo.handlers["*"]=b.cdo.handlers[12004]=function(){f()};b.create(b.cdo).render(function(){this.execute(e.unescapeHTML(d.attr("data-cmd")),function(a){f({certCmdOutput:a.rawData})})})};"cert"==a.type?b.cdo.installed?function(){b.cdo.handlers["*"]=b.cdo.handlers[12004]=function(){f({certCmdOutput:""})};b.create(b.cdo).render(function(){this.execute(e.unescapeHTML(d.attr("data-cmd")),function(a){f({certCmdOutput:a.rawData})})})}():b.pta.installed?c():f({}):"ukey"==a.type?b.cdo.installed&&
e.unescapeHTML(d.attr("data-cmd"))?n():b.pta.installed&&e.client.info.engine.trident&&h():"thirdkey"==a.type&&e.client.info.engine.trident&&b.pta.installed&&h()};b.core.recheck=function(a){var f=function(d){a.element.addClass("fn-hide");a.element.item(d).removeClass("fn-hide")},d=function(){h&&clearTimeout(h);f(4);b.core.certCheck(a,function(d){"undefined"!=typeof d?(f(3),e.packetRequest(a.url,{securityId:c(".J-securitycoreMain").attr("data-request")},d,{success:k,abort:g})):g()})},g=function(){h&&
clearTimeout(h);h=setTimeout(function(){f(1);if("ukey"==a.type||"thirdkey"==a.type)h=setTimeout(d,5E3)},800)},k=function(d){var d=d.info,f=d.message;h&&clearTimeout(h);e.log(f);if("block"==f||"success"==f){var k=document.createElement("div"),p=c(".J-securitycoreMain"),m=c(".J-securitycoreTip");k.innerHTML=d.html;p.parent()[0].insertBefore(c(".J-securitycoreMain",k)[0],p[0]);m.length&&m.parent()[0].insertBefore(c(".J-securitycoreTip",k)[0],m[0]);p.del();m.length&&m.del();e.each(c("script",c(".J-securitycoreMain")),
function(){eval(this.text)});"block"==f?b.core.block(a.url,a.callback):"success"==f&&(c(".ui-securitycore").removeClass("fn-hide"),b.core.visualTip(),a.callback&&a.callback())}else g()},h=setTimeout(d,100);c(".J_reCheck").click(function(a){a.cancel();d(a)});a.element.item(1).mouseover(function(a){a&&h&&clearTimeout(h)}).mouseout(function(){h=setTimeout(d,4E3)})}}(window.light,light.node,alipay.security);
light.has("/alipay/security/core/block")||function(e,c,b){var a=function(a){return e.get(a)},f=function(a){for(var d=0,b=a.length;d<b;d++){var f=a[d];if(f.rule(f.id)){c("#"+f.id).removeClass("fn-hide");f.callback&&f.callback(c("#"+f.id));"cashier"==k&&(f.seed+="_cashier");e.track(f.seed);break}}};certElems=[{id:"J_certOs",rule:a,seed:"AQ_CA_OSnotSupport"},{id:"J_certNoPta",rule:function(){return"true"!==e.node("#J-cert-section").attr("data-alternative")&&!b.pta.installed&&!b.cdo.installed},seed:"AQ_CA_noPta"},
{id:"J_certNotUse",rule:a,seed:"AQ_CA_no"},{id:"J_certChecking",rule:a,seed:"AQ_CA_no",callback:function(a){a={type:"cert",element:c("#J_certNo, #J_certNotFound, #J_certFound, #J_certValidating, #J_certChecking"),data:a,url:d,callback:g};b.core.recheck(a)}},{id:"J_certOverdue",rule:a,seed:"AQ_CA_update"},{id:"J_certException",rule:a,seed:""},{id:"J_publicException",rule:a,seed:""}];ukeyElems=[{id:"J_ukeyOs",rule:a,seed:"AQ_KEY_OSnotSupport"},{id:"J_ukeyBrowser",rule:a,seed:"AQ_KEY_notSupport"},{id:"J_ukeyNoPta",
rule:function(){return!b.cdo.installed&&(!b.pta.installed||!b.hwpta.installed)},seed:"AQ_KEY_noPta"},{id:"J_ukeyChecking",rule:a,seed:"AQ_KEY_noKey",callback:function(a){a={type:"ukey",element:c("#J_ukeyNoKey, #J_ukeyNotFound, #J_ukeyFound, #J_ukeyValidating, #J_ukeyChecking"),data:a,url:d,callback:g};b.core.recheck(a)}},{id:"J_ukeyInLost",rule:a,seed:"AQ_KEY_cancel"},{id:"J_ukeyOverdue",rule:a,seed:"AQ_KEY_update"},{id:"J_ukeyException",rule:a,seed:""},{id:"J_publicException",rule:a,seed:""}];thirdkeyElems=
[{id:"J_thirdkeyOs",rule:a,seed:"AQ_UKEY_OSnotSupport"},{id:"J_thirdkeyBrowser",rule:a,seed:"AQ_UKEY_notSupport"},{id:"J_thirdkeyNoPta",rule:function(){return!b.pta.installed},seed:"AQ_UKEY_noPta"},{id:"J_thirdkeyChecking",rule:a,seed:"AQ_UKEY_noKey",callback:function(a){a={type:"thirdkey",element:c("#J_thirdkeyNo, #J_thirdkeyNotFound, #J_thirdkeyFound, #J_thirdkeyValidating, #J_thirdkeyChecking"),data:a,url:d,callback:g};b.core.recheck(a)}},{id:"J_thirdkeyOverdue",rule:a,seed:"AQ_UKEY_update"},{id:"J_thirdkeyLogoff",
rule:a,seed:"AQ_UKEY_cancel"},{id:"J_thirdkeyException",rule:a,seed:""},{id:"J_publicException",rule:a,seed:""}];var d,g,k;b.core.block=function(a,n){d=a;g=n;k=c(".J-securitycoreMain").attr("data-system");c("#J_scCheck").addClass("fn-hide");c(".cert-section").length?f(certElems):c(".ukey-section").length?(f(ukeyElems),c(".ukeyDownLink").attr("href",b.cdo.info.downloadUrl)):c(".thirdkey-section").length&&(f(thirdkeyElems),c(".thirdkeyDownLink").attr("href",b.pta.info.downloadUrl));c(".downLinkFirst").click(function(){var a=
c(this).parent(".ui-tip");a.addClass("fn-hide");c("#"+a.attr("id")+"Clicked").removeClass("fn-hide")});b.page.processCertLink(c(".linkInXbox"));new e.pop({targets:c(".showCertTip"),className:"ui-securitycore",width:340,direction:"down"});"cashier"==k&&c(".J-securitycoreMain [seed]").each(function(a,d){var d=c(d),b=d.attr("seed");d.attr("seed",b+"_cashier")})}}(window.light,light.node,alipay.security);
light.has("/alipay/security/core/visualTip")||function(e,c,b){b.core.visualTip=function(){setTimeout(function(){if(light.node(".J-securitycoreTip").length){var a=light.node(".J-securitycoreTip"),f=light.node(".J-checkResult",a),d=f.html(),f="ui-form-item-"+(f.attr("data-status")||"success");light.node(".ui-form-item",a).removeClass("ui-form-item-loading").addClass(f);if(light.node(".J-security-cert-is-not-use").length&&!b.pta.installed&&!b.cdo.installed)var d=b.securityCenterServer+"/cert/downLoadCtrl.htm",
f=b.securityCenterServer+"/cert/manage.htm",g=a.attr("data-link-in-xbox"),d='\u5c1a\u672a\u5b89\u88c5\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u5b9d\u4ee4\u8fdb\u884c\u6821\u9a8c \u6216 <a href="'+(g?d:f)+'" class="'+g+'" seed="AQ_CA_noPtaClick" target="_blank" data-href="'+f+'">\u5b89\u88c5\u6570\u5b57\u8bc1\u4e66\u63a7\u4ef6</a>\u3002';light.node(".ui-form-explain",a).html(d);b.page.processCertLink(c(".linkInXbox"))}},2E3)}}(window.light,light.node,alipay.security);
light.has("/alipay/security/core/base")||function(e,c,b){var a,f=[];a=b.base=function(a){if(a!==f)throw"invalid constructor, use create() instead.";};a.defaults={errorMsg:"",rule:function(a){return!light.trim(a).length?!1:!0},itemClass:"ui-form-item",notifyClass:"ui-form-explain",errorClass:"ui-form-item-error",successClass:"ui-form-item-success",focusClass:"ui-form-item-focus"};a.create=function(d,b,c){if(!d)throw"this security product not exist";var e=new d(f);e.__type=d;d.defaults=light.extend({},
a.defaults,d.defaults);e.options=light.extend({},d.defaults,c);e.product=b;e.postInit();return e};a.prototype={postInit:function(){this.element=light.node("#"+this.product.options.id);this.parent=this.element.parent("."+this.options.itemClass);this.msg=this.parent.find("."+this.options.notifyClass);this.defaultMsg=this.element.attr("data-explain");this.bind();light.track("sc_"+this.product.__type.Name)},bind:function(){var a=this;light.on(this.product.options.id,"focus",function(){a.afterValidate(!0)})},
execute:function(a,b){this.getValue(b);this.validate()?a():b.stoped=!0},getValue:function(a){var b=this;this.product.render(function(){b.value=this.getValue();a.params[b.options.paramName]=b.value})},validate:function(){var a=this.options.rule;this.value==light.node(this.product.element).attr("placeholder")&&(this.value="");this.isValid=light.isFunction(a)?a(this.value):a.test(this.value);this.afterValidate(this.isValid);return this.isValid},lock:function(a){a&&light.node(this.product.element).addClass("ui-input-unwrite").attr("disabled",
!0)},afterValidate:function(a,b,f){var c=this.options,b=b||c.errorMsg;this.lock(f);a?(this.parent.removeClass(c.successClass).removeClass(c.errorClass),this.msg.html(this.defaultMsg)):(this.parent.removeClass(c.successClass).addClass(c.errorClass),this.msg.html(light.trim(b)))}}}(window,light.page.ui.dialog,alipay.security.core);
light.has("/alipay/security/core/edit")||function(e,c){var b;c.edit=b=light.deriveFrom(c.base,{postInit:function(){this.parent=light.node("#"+this.product.options.hidnId).parent("."+this.options.itemClass);this.msg=this.parent.find("."+this.options.notifyClass);this.defaultMsg=this.msg.html();this.bind();light.track("sc_"+this.product.__type.Name)},getValue:light.noop,execute:function(a,b){var d=this,c=this.parent.find("input[name=J_aliedit_key_hidn]")[0].value,e=this.parent.find("input[name=J_aliedit_uid_hidn]")[0].value,
h=this.parent.find("input[name=J_aliedit_using]")[0].value;if("true"==h&&!this.product.__type.installed)this.product.__type.detect(),b.stoped=!0;else this.product.onready(function(){light.get(c).value=d.value=this.getPassword();"true"==h&&h&&d.parent.find("input[name=_seaside_gogo_]").val(this.getCi1());if(d.validate()){var n={J_aliedit_key_hidn:c,J_aliedit_uid_hidn:e,J_aliedit_using:h,_seaside_gogo_:"true"==h?this.getCi1():""};n[c]=d.value;n[e]=light.get(e).value;d.ajaxData=light.extend({},n);d.ajaxData.payment_password=
light.extend({},n);b.params=light.extend(b.params,d.ajaxData);a()}b.stoped=!0})},lock:light.noop});b.defaults={errorMsg:"\u8bf7\u586b\u5199\u652f\u4ed8\u5bc6\u7801\u3002"}}(window,alipay.security.core);
light.has("/alipay/security/core/mobile")||function(e,c){var b=light.deriveFrom(c.base,{execute:function(a,b){if(this.product.origin&&"credible"==this.product.origin&&!this.product.credibleValidate){var d=this.product.credibleMobile;d.validateNum.call(d);b.stoped=!0}else this.getValue(b),this.validate()?a():b.stoped=!0},getValue:function(a){var b=this;this.product.render(function(){b.value=this.getValue();a.params[b.options.paramName]=b.value;a.params.mobileAckCode=b.value.mobileAckCode})}});b.defaults=
{errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(a){return/^\d{6}$/.test(a.mobileAckCode)}};c.mobile=b}(window,alipay.security.core);
light.has("/alipay/security/core/ctuMobile")||function(e,c){var b=light.deriveFrom(c.base,{execute:function(a,b){if(this.product.origin&&"credible"==this.product.origin&&!this.product.credibleValidate){var d=this.product.credibleMobile;d.validateNum.call(d);b.stoped=!0}else this.getValue(b),this.validate()?a():b.stoped=!0},getValue:function(a){var b=this;this.product.render(function(){b.value=this.getValue();a.params[b.options.paramName]=b.value;light.extend(a.params,b.value)})}});b.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",
rule:function(a){return/^\d{6}$/.test(a.mobileAckCode)},paramName:"ctu_mobile"};c.ctuMobile=b}(window,alipay.security.core);
light.has("/alipay/security/core/core/otp")||function(e){var c=light.deriveFrom(e.base,{getValue:function(b){var a=this;this.product.render(function(){a.value=this.getValue();b.params[a.options.paramName]=a.value;light.extend(b.params,a.value)})}});c.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(b){return/^\d{6}$/.test(b.otpPassword)},paramName:"otp"};e.otp=c}(alipay.security.core);
light.has("/alipay/security/core/baseCert")||function(e,c,b,a){a.baseCert=e=light.deriveFrom(a.base,{bind:light.noop,getValue:light.noop,validate:light.noop,lock:light.noop,postInit:function(){var a=light.node(".J-securitycoreTip")[0]||light.node(".edit-section")[0]||light.node(".cert-section, .ukey-section, .thirdkey-section")[0];this.parent=light.node("."+this.options.itemClass,a);this.msg=this.parent.find("."+this.options.notifyClass);this.defaultMsg=(light.node(".J-checkResult",a)[0]||this.msg[0]).innerHTML;
light.track("sc_"+this.product.__type.Name)},showMessage:function(a,b){var c=this.options.label,e="";"ukey"==this.product.__type.Name&&(e=', <a href="'+this.product.exeDownloadUrl+'">\u7acb\u5373\u5b89\u88c5</a>');this.afterValidate(!1,{noPta:'\u60a8\u7684\u7535\u8111\u8fd8\u672a\u88c5\u63a7\u4ef6\uff0c\u8bf7<a href="'+this.product.__type.info.downloadUrl+'">\u7acb\u5373\u5b89\u88c5</a>\uff0c\u5b89\u88c5\u540e\u8bf7\u5237\u65b0\u6216\u91cd\u542f\u6d4f\u89c8\u5668\u3002',noKey:"\u6ca1\u6709\u68c0\u6d4b\u5230\u60a8\u7684"+
c+"\uff0c\u8bf7\u63d2\u5165\u540e\u91cd\u8bd5\u6216\u8bf7\u5c1d\u8bd5\u5b89\u88c5\u9a71\u52a8"+e,keyError:c+"\u51fa\u73b0\u5f02\u5e38"+(b?"\uff0c\u9519\u8bef\u4ee3\u7801\uff1a"+b.number:"")}[a])}});e.defaults={paramName:"signedData"};a.cert=light.deriveFrom(e,{execute:function(a,b){b.params[this.options.paramName]={singedData:"cert"};light.extend(b.params,{singedData:"cert"});a()}});a.cert.defaults=light.extend({},e.defaults,{label:"\u6570\u5b57\u8bc1\u4e66",paramName:"cert"});a.ukey=light.deriveFrom(e,
{execute:function(a,d){if(this.product.__type.installed){var c=this;this.product.onready(function(){if(b.cdo.installed&&this.cmd){var e=this;this.handlers["*"]=function(a){c.showMessage.call(c,"keyError",a);d.stoped=!0};this.handlers[12004]=function(a){c.showMessage.call(c,"noKey",a);d.stoped=!0};this.execute(light.unescapeHTML(this.cmd),function(b){c.certCmdOutput=b.rawData;d.stoped||(c.certCmdOutput?(light.get(e.id).value=c.certSign,d.params[c.options.paramName]={certCmdOutput:c.certCmdOutput},
light.extend(d.params,{certCmdOutput:c.certCmdOutput}),c.afterValidate(!0),a()):(c.showMessage("noKey"),d.stoped=!0))})}else this.handlers["*"]=function(a){c.showMessage.call(c,"keyError",a);d.stoped=!0},this.handlers["-2147483135"]=this.handlers["-2146434962"]=function(){d.stoped=!0},c.certSign=this.sign(this.src,this.certSn,this.issuerDn,"",this.subjectCN),d.stoped||(c.certSign?(light.get(this.id).value=c.certSign,d.params[c.options.paramName]={signedData:c.certSign},light.extend(d.params,{signedData:c.certSign}),
c.afterValidate(!0),a()):(c.showMessage("noKey"),d.stoped=!0))})}else this.showMessage("noPta"),d.stoped=!0}});a.ukey.defaults=light.extend({},e.defaults,{label:"\u652f\u4ed8\u76fe",paramName:"ukey"});a.thirdkey=light.deriveFrom(e,{execute:function(a,b){if(this.product.__type.installed){var c=this;this.product.onready(function(){this.handlers["*"]=function(a){c.showMessage.call(c,"keyError",a);b.stoped=!0};this.handlers["-2147483135"]=this.handlers["-2146434962"]=function(){b.stoped=!0};c.certSign=
this.sign(this.src,this.certSn,this.issuerDn,"",this.subjectCN);b.stoped||(c.certSign?(light.get(this.id).value=c.certSign,b.params[c.options.paramName]={signedData:c.certSign},light.extend(b.params,{signedData:c.certSign}),c.afterValidate(!0),a()):(c.showMessage("noKey"),b.stoped=!0))})}else this.showMessage("noPta"),b.stoped=!0}});a.thirdkey.defaults=light.extend({},e.defaults,{label:"U\u76fe",paramName:"thirdkey"})}(window,light.page.ui.dialog,alipay.security,alipay.security.core);
light.has("/alipay/security/core/riskMobileBank")||function(e,c){var b=light.deriveFrom(c.base,{execute:function(a,b){this.getValue(b);this.validate()?a():b.stoped=!0}});b.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(a){return/\d{6}/.test(a.mobileAckCode)},paramName:"risk_mobile_bank"};c.riskMobileBank=b}(window,alipay.security.core);
light.has("/alipay/security/core/riskMobileAccount")||function(e,c){var b=light.deriveFrom(c.base,{execute:function(a,b){this.getValue(b);this.validate()?a():b.stoped=!0}});b.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(a){return/\d{6}/.test(a.mobileAckCode)},paramName:"risk_mobile_account"};c.riskMobileAccount=b}(window,alipay.security.core);
light.has("/alipay/security/core/riskMobileCredit")||function(e,c){var b=light.deriveFrom(c.base,{execute:function(a,b){this.getValue(b);this.validate()?a():b.stoped=!0}});b.defaults={errorMsg:"\u8bf7\u8f93\u51656\u4f4d\u6570\u5b57\u6821\u9a8c\u7801\u3002",rule:function(a){return/\d{6}/.test(a.mobileAckCode)},paramName:"risk_mobile_credit"};c.riskMobileCredit=b}(window,alipay.security.core);
light.has("/alipay/security/core/core/riskCertificate")||function(e){var c=light.deriveFrom(e.base,{});c.defaults={errorMsg:"\u8bf7\u586b\u5199\u8bc1\u4ef6\u7684\u6700\u540e6\u4f4d\u3002",rule:function(b){return/[\da-zA-Z]{6}/.test(b.inputCertificateNo)},paramName:"risk_certificate"};e.riskCertificate=c}(alipay.security.core);
light.has("/alipay/security/core/core/riskSecurityQa")||function(e){var c=light.deriveFrom(e.base,{});c.defaults={errorMsg:"\u8bf7\u586b\u5199\u7b54\u6848\u3002",rule:function(b){return/\S+/.test(b.securityAnswer)},paramName:"risk_security_qa"};e.riskSecurityQa=c}(alipay.security.core);
light.has("/alipay/security/core/riskExpressPrivacy")||function(e){var c;light.deriveFrom(e.base,{});e.baseRiskExpressPrivacy=c=light.deriveFrom(e.base,{errorMsg:"\u6b63\u786e\u8bf7\u586b\u5199\u94f6\u884c\u5361\u53f7\u3002",rule:function(b){return/\d{16,24}/.test(b)},paramName:"risk_express_privacy",validate:function(){var b=this.rule,a=light.node(this.element),c=a.attr("placeholder");this.value=a.val().replace(/\D/g,"");this.value==c&&(this.value="");this.isValid=light.isFunction(b)?b(this.value):
b.test(this.value);this.afterValidate(this.isValid,this.errorMsg);return this.isValid},execute:function(b,a){this.validate()||(a.stoped=!0);if(!a.stoped){var c=this;this.product.queryValue(function(d){if(d.message)c.afterValidate(false,d.message);else{a.params[c.paramName]=d;c.afterValidate(true);b()}})}}});e.riskExpressPrivacy=light.deriveFrom(c,{})}(alipay.security.core);
light.has("/alipay/security/core/core/checkCode")||function(e){var c=light.deriveFrom(e.base,{getValue:function(b){var a=this;this.product.render(function(){a.value=this.getValue();b.params[a.options.paramName]=a.value;light.extend(b.params,a.value)})}});c.defaults={errorMsg:"\u8bf7\u6b63\u786e\u586b\u5199\u6821\u9a8c\u7801\u3002",rule:function(b){return/^[a-zA-Z0-9]{4}$/.test(b.check_code)},paramName:"checkcode"};e.checkCode=c}(alipay.security.core);
light.has("/alipay/security/core/core/rds")||function(e){var c=light.deriveFrom(e.base,{afterValidate:function(){}});c.defaults={paramName:"rds",rule:function(){return!0}};e.rds=c}(alipay.security.core);